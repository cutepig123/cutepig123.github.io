#include &lt;boost/mpl/range_c.hpp&gt;<br />#include &lt;boost/mpl/vector.hpp&gt;<br />#include &lt;boost/mpl/for_each.hpp&gt;<br />#include "boost/mpl/is_sequence.hpp"<br />//#include &lt;boost/mpl/if.hpp&gt;<br />#include &lt;iostream&gt;<br /><br />template &lt;bool IsSeq = true&gt;<br />struct Print<br />{<br />&nbsp;&nbsp; &nbsp;template&lt; typename U &gt;<br />&nbsp;&nbsp; &nbsp;void operator()(U x)<br />&nbsp;&nbsp; &nbsp;{<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;std::cout &lt;&lt; "Seq( ";<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;boost::mpl::for_each&lt;U&gt; ( value_printer() );<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;std::cout &lt;&lt; ")";<br />&nbsp;&nbsp; &nbsp;}<br />};<br /><br />template &lt;&gt;<br />struct Print&lt;false&gt;<br />{<br />&nbsp;&nbsp; &nbsp;template&lt; typename U &gt;<br />&nbsp;&nbsp; &nbsp;void operator()(U x)<br />&nbsp;&nbsp; &nbsp;{<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; std::cout &lt;&lt; x &lt;&lt; ' ';<br />&nbsp;&nbsp; &nbsp;}<br />};<br /><br />struct value_printer<br />{<br />&nbsp;&nbsp;&nbsp; template&lt; typename U &gt; void operator()(U x)<br />&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;typedef Print&lt; boost::mpl::is_sequence&lt;U&gt;::value &gt; print;;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;//typedef boost::mpl::if_&lt; boost::mpl::is_sequence&lt;U&gt;, printSeq, printItem&gt;::type print;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;print()(x);<br />&nbsp;&nbsp;&nbsp; }<br />};<br /><br />void testPrintSeq()<br />{<br />&nbsp;&nbsp; &nbsp;typedef boost::mpl::range_c&lt;int,0,10&gt; R1;<br />&nbsp;&nbsp; &nbsp;typedef boost::mpl::range_c&lt;int,5,10&gt; R2;<br />&nbsp;&nbsp; &nbsp;typedef boost::mpl::vector&lt; R1, R2 &gt;&nbsp; V;<br /><br />&nbsp;&nbsp; &nbsp;value_printer()( V() );<br />}<br /><br />