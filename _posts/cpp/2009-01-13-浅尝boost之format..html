<h1 class="block_title"><a id="AjaxHolder_ctl01_TitleUrl" href="http://www.cnblogs.com/WuErPIng/archive/2005/04/21/142308.html">浅尝boost之format</a></h1>
	
		
			<p><strong>
<p>http://www.cnblogs.com/wuerping/archive/2005/04/21/142308.html</p><p>概述 <br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::string是个很不错的东东，但实际使用时基本在每个程序里都会遇到不愉快的事情：格式化字符串。我
甚至由于这个原因在代码里引入平台有关的MFC，ATL等本来不需要在项目中使用的一些重量级的框架，就为了能轻松的做格式化字符串 :-)
。曾尝试过将ATL::CString的format函数提取出来使用，但ATL::CString的底层调用了windows独有函数，无法跨越平台。
当然，现在有了boost::format，我们不用再担心了。boost::format重载了'%'操作符，通过多次调用'%'操作符就能将参数非常
方便格式化成字符串，并实现了ATL::CString和C#中的string两者的格式化字符串功能。除了语法刚开始感觉到怪异，功能足以让人感觉到兴
奋！ <br></p></strong>
</p>

<p><strong>一、boost::format工作的方式</strong> <br>&nbsp; <br>&nbsp;基本的语法，boost::format( format-string ) % arg1 % arg2 % ... % argN <br>&nbsp; <br>&nbsp;下面的例子说明boost::format简单的工作方式&nbsp; <br>&nbsp;&nbsp; <br>&nbsp; </p>
<div style="border: 0.5pt solid windowtext; padding: 4px 5.4pt; background: rgb(230, 230, 230) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; width: 98%;">
<div><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"><span style="color: rgb(0, 128, 0);">//</span><span style="color: rgb(0, 128, 0);"> 方式一 </span><span style="color: rgb(0, 128, 0);"><br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"></span><span style="color: rgb(0, 0, 0);"> cout </span><span style="color: rgb(0, 0, 0);">&lt;&lt;</span><span style="color: rgb(0, 0, 0);"> boost::format(</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">%s</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">) </span><span style="color: rgb(0, 0, 0);">%</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">输出内容</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">&lt;&lt;</span><span style="color: rgb(0, 0, 0);"> endl; <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> </span><span style="color: rgb(0, 128, 0);">//</span><span style="color: rgb(0, 128, 0);"> 方式二 </span><span style="color: rgb(0, 128, 0);"><br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"></span><span style="color: rgb(0, 0, 0);"> std::</span><span style="color: rgb(0, 0, 255);">string</span><span style="color: rgb(0, 0, 0);"> s; <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> s </span><span style="color: rgb(0, 0, 0);">=</span><span style="color: rgb(0, 0, 0);"> str( boost::format(</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">%s</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">) </span><span style="color: rgb(0, 0, 0);">%</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">输出内容</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);"> ); <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> cout </span><span style="color: rgb(0, 0, 0);">&lt;&lt;</span><span style="color: rgb(0, 0, 0);"> s </span><span style="color: rgb(0, 0, 0);">&lt;&lt;</span><span style="color: rgb(0, 0, 0);"> endl; <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> </span><span style="color: rgb(0, 128, 0);">//</span><span style="color: rgb(0, 128, 0);"> 方式三 </span><span style="color: rgb(0, 128, 0);"><br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"></span><span style="color: rgb(0, 0, 0);"> boost::format formater(</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">%s</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">); <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> formater </span><span style="color: rgb(0, 0, 0);">%</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">输出内容</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">; <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> std::</span><span style="color: rgb(0, 0, 255);">string</span><span style="color: rgb(0, 0, 0);"> s </span><span style="color: rgb(0, 0, 0);">=</span><span style="color: rgb(0, 0, 0);"> formater.str(); <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> cout </span><span style="color: rgb(0, 0, 0);">&lt;&lt;</span><span style="color: rgb(0, 0, 0);"> s </span><span style="color: rgb(0, 0, 0);">&lt;&lt;</span><span style="color: rgb(0, 0, 0);"> endl; <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> </span><span style="color: rgb(0, 128, 0);">//</span><span style="color: rgb(0, 128, 0);"> 方式四 </span><span style="color: rgb(0, 128, 0);"><br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"></span><span style="color: rgb(0, 0, 0);"> cout </span><span style="color: rgb(0, 0, 0);">&lt;&lt;</span><span style="color: rgb(0, 0, 0);"> boost::format(</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">%1%</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">) </span><span style="color: rgb(0, 0, 0);">%</span><span style="color: rgb(0, 0, 0);"> boost::io::group(hex, showbase, </span><span style="color: rgb(0, 0, 0);">40</span><span style="color: rgb(0, 0, 0);">) </span><span style="color: rgb(0, 0, 0);">&lt;&lt;</span><span style="color: rgb(0, 0, 0);"> endl; <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"></span> </div></div>
<p><br></p>
<p><strong>二、boost::format实际使用的实例</strong> <br>&nbsp; <br>&nbsp;格式化语法： [ N$ ] [ flags ] [ width ] [ . precision ] type-char&nbsp; <br>&nbsp;&nbsp; <br>&nbsp; </p>
<div style="border: 0.5pt solid windowtext; padding: 4px 5.4pt; background: rgb(230, 230, 230) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; width: 98%;">
<div><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"><span style="color: rgb(0, 128, 0);">//</span><span style="color: rgb(0, 128, 0);"> ATL::CString风格 </span><span style="color: rgb(0, 128, 0);"><br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"></span><span style="color: rgb(0, 0, 0);"> cout </span><span style="color: rgb(0, 0, 0);">&lt;&lt;</span><span style="color: rgb(0, 0, 0);"> boost::format(</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">\n\n%s</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);"> <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> </span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">%1t 十进制 = [%d]\n</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);"> <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> </span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">%1t 格式化的十进制 = [%5d]\n</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);"> <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> </span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">%1t 格式化十进制，前补'0' = [%05d]\n</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);"> <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> </span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">%1t 十六进制 = [%x]\n</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);"> <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> </span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">%1t 八进制 = [%o]\n</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);"> <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> </span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">%1t 浮点 = [%f]\n</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);"> <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> </span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">%1t 格式化的浮点 = [%3.3f]\n</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);"> <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> </span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">%1t 科学计数 = [%e]\n</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);"> <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> ) </span><span style="color: rgb(0, 0, 0);">%</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">example :\n</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">%</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">15</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">%</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">15</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">%</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">15</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">%</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">15</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">%</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">15</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">%</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">15.01</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">%</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">15.01</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">%</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">15.01</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">&lt;&lt;</span><span style="color: rgb(0, 0, 0);"> endl; <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> </span><span style="color: rgb(0, 128, 0);">//</span><span style="color: rgb(0, 128, 0);"> C#::string风格 </span><span style="color: rgb(0, 128, 0);"><br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"></span><span style="color: rgb(0, 0, 0);"> cout </span><span style="color: rgb(0, 0, 0);">&lt;&lt;</span><span style="color: rgb(0, 0, 0);"> boost::format(</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">%1%</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);"> <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> </span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">%1t 十进制 = [%2$d]\n</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);"> <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> </span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">%1t 格式化的十进制 = [%2$5d]\n</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);"> <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> </span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">%1t 格式化十进制，前补'0' = [%2$05d]\n</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);"> <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> </span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">%1t 十六进制 = [%2$x]\n</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);"> <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> </span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">%1t 八进制 = [%2$o]\n</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);"> <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> </span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">%1t 浮点 = [%3$f]\n</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);"> <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> </span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">%1t 格式化的浮点 = [%3$3.3f]\n</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);"> <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> </span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">%1t 科学计数 = [%3$e]\n</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);"> <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> ) </span><span style="color: rgb(0, 0, 0);">%</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">example :\n</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">%</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">15</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">%</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">15.01</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">&lt;&lt;</span><span style="color: rgb(0, 0, 0);"> endl; <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16">输出结果 <br><img id="Codehighlighter1_648_802_Open_Image" onclick="this.style.display='none'; Codehighlighter1_648_802_Open_Text.style.display='none'; Codehighlighter1_648_802_Closed_Image.style.display='inline'; Codehighlighter1_648_802_Closed_Text.style.display='inline';" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" align="top" width="11" height="16"><img id="Codehighlighter1_648_802_Closed_Image" style="display: none;" onclick="this.style.display='none'; Codehighlighter1_648_802_Closed_Text.style.display='none'; Codehighlighter1_648_802_Open_Image.style.display='inline'; Codehighlighter1_648_802_Open_Text.style.display='inline';" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedBlock.gif" align="top" width="11" height="16"></span><span id="Codehighlighter1_648_802_Closed_Text" style="border: 1px solid rgb(128, 128, 128); display: none; background-color: rgb(255, 255, 255);">/**/</span><span id="Codehighlighter1_648_802_Open_Text"><span style="color: rgb(0, 128, 0);">/*</span><span style="color: rgb(0, 128, 0);"> <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" align="top" width="11" height="16">example : <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" align="top" width="11" height="16"> 十进制 = [15] <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" align="top" width="11" height="16"> 格式化的十进制 = [ 15] <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" align="top" width="11" height="16"> 格式化十进制，前补'0' = [00015] <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" align="top" width="11" height="16"> 十六进制 = [f] <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" align="top" width="11" height="16"> 八进制 = [17] <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" align="top" width="11" height="16"> 浮点 = [15.010000] <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" align="top" width="11" height="16"> 格式化的浮点 = [15.010] <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" align="top" width="11" height="16"> 科学计数 = [1.501000e+001] <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" align="top" width="11" height="16"></span><span style="color: rgb(0, 128, 0);">*/</span></span><span style="color: rgb(0, 0, 0);"> <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> </span></div></div>
<p><br><strong>三、boost::format新的格式说明符</strong> <br>&nbsp; <br>&nbsp;%{nt} <br>&nbsp;当n是正数时，插入n个绝对制表符 <br>&nbsp;cout &lt;&lt; boost::format("[%10t]")&nbsp; &lt;&lt; endl; <br>&nbsp; <br>&nbsp;%{nTX} <br>&nbsp;使用X做为填充字符代替当前流的填充字符（一般缺省是一个空格） <br>&nbsp;cout &lt;&lt; boost::format("[%10T*]")&nbsp; &lt;&lt; endl;&nbsp; <br></p>
<p><strong>四、异常处理</strong> <br><br></p>
<p>&nbsp;一般写法： <br></p>
<div style="border: 0.5pt solid windowtext; padding: 4px 5.4pt; background: rgb(230, 230, 230) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; width: 98%;">
<div><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 255);">try</span><span style="color: rgb(0, 0, 0);"> <br><img id="Codehighlighter1_7_57_Open_Image" onclick="this.style.display='none'; Codehighlighter1_7_57_Open_Text.style.display='none'; Codehighlighter1_7_57_Closed_Image.style.display='inline'; Codehighlighter1_7_57_Closed_Text.style.display='inline';" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" align="top" width="11" height="16"><img id="Codehighlighter1_7_57_Closed_Image" style="display: none;" onclick="this.style.display='none'; Codehighlighter1_7_57_Closed_Text.style.display='none'; Codehighlighter1_7_57_Open_Image.style.display='inline'; Codehighlighter1_7_57_Open_Text.style.display='inline';" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedBlock.gif" align="top" width="11" height="16"> </span><span id="Codehighlighter1_7_57_Closed_Text" style="border: 1px solid rgb(128, 128, 128); display: none; background-color: rgb(255, 255, 255);"><img src="http://www.cnblogs.com/Images/dot.gif" width="15" height="20"></span><span id="Codehighlighter1_7_57_Open_Text"><span style="color: rgb(0, 0, 0);">{ <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" align="top" width="11" height="16"> cout </span><span style="color: rgb(0, 0, 0);">&lt;&lt;</span><span style="color: rgb(0, 0, 0);"> boost::format(</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">%d%d</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">) </span><span style="color: rgb(0, 0, 0);">%</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">1</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">&lt;&lt;</span><span style="color: rgb(0, 0, 0);"> endl; <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" align="top" width="11" height="16"> }</span></span><span style="color: rgb(0, 0, 0);"> <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> </span><span style="color: rgb(0, 0, 255);">catch</span><span style="color: rgb(0, 0, 0);">(std::exception </span><span style="color: rgb(0, 0, 255);">const</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">&amp;</span><span style="color: rgb(0, 0, 0);"> e) <br><img id="Codehighlighter1_95_228_Open_Image" onclick="this.style.display='none'; Codehighlighter1_95_228_Open_Text.style.display='none'; Codehighlighter1_95_228_Closed_Image.style.display='inline'; Codehighlighter1_95_228_Closed_Text.style.display='inline';" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" align="top" width="11" height="16"><img id="Codehighlighter1_95_228_Closed_Image" style="display: none;" onclick="this.style.display='none'; Codehighlighter1_95_228_Closed_Text.style.display='none'; Codehighlighter1_95_228_Open_Image.style.display='inline'; Codehighlighter1_95_228_Open_Text.style.display='inline';" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedBlock.gif" align="top" width="11" height="16"> </span><span id="Codehighlighter1_95_228_Closed_Text" style="border: 1px solid rgb(128, 128, 128); display: none; background-color: rgb(255, 255, 255);"><img src="http://www.cnblogs.com/Images/dot.gif" width="15" height="20"></span><span id="Codehighlighter1_95_228_Open_Text"><span style="color: rgb(0, 0, 0);">{ <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" align="top" width="11" height="16"> cout </span><span style="color: rgb(0, 0, 0);">&lt;&lt;</span><span style="color: rgb(0, 0, 0);"> e.what() </span><span style="color: rgb(0, 0, 0);">&lt;&lt;</span><span style="color: rgb(0, 0, 0);"> endl; <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" align="top" width="11" height="16"> <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" align="top" width="11" height="16"> </span><span style="color: rgb(0, 128, 0);">//</span><span style="color: rgb(0, 128, 0);"> 输出内容： <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" align="top" width="11" height="16"> </span><span style="color: rgb(0, 128, 0);">//</span><span style="color: rgb(0, 128, 0);"> boost::too_few_args: format-string refered to more arguments than were passed </span><span style="color: rgb(0, 128, 0);"><br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" align="top" width="11" height="16"></span><span style="color: rgb(0, 0, 0);"> }</span></span><span style="color: rgb(0, 0, 0);"> <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> </span></div></div>
<p><br>&nbsp;boost::format的文档中有选择处理异常的办法，不过个人感觉实用性可能不强，下面是文档中的例子&nbsp; <br>&nbsp; <br></p>
<div style="border: 0.5pt solid windowtext; padding: 4px 5.4pt; background: rgb(230, 230, 230) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial; width: 98%;">
<div><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 128, 0);">//</span><span style="color: rgb(0, 128, 0);"> boost::io::all_error_bits selects all errors <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> </span><span style="color: rgb(0, 128, 0);">//</span><span style="color: rgb(0, 128, 0);"> boost::io::too_many_args_bit selects errors due to passing too many arguments. <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> </span><span style="color: rgb(0, 128, 0);">//</span><span style="color: rgb(0, 128, 0);"> boost::io::too_few_args_bit selects errors due to asking for the srting result before all arguments are passed </span><span style="color: rgb(0, 128, 0);"><br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"></span><span style="color: rgb(0, 0, 0);"> <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> boost::format my_fmt(</span><span style="color: rgb(0, 0, 255);">const</span><span style="color: rgb(0, 0, 0);"> std::</span><span style="color: rgb(0, 0, 255);">string</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">&amp;</span><span style="color: rgb(0, 0, 0);"> f_string) <br><img id="Codehighlighter1_308_477_Open_Image" onclick="this.style.display='none'; Codehighlighter1_308_477_Open_Text.style.display='none'; Codehighlighter1_308_477_Closed_Image.style.display='inline'; Codehighlighter1_308_477_Closed_Text.style.display='inline';" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" align="top" width="11" height="16"><img id="Codehighlighter1_308_477_Closed_Image" style="display: none;" onclick="this.style.display='none'; Codehighlighter1_308_477_Closed_Text.style.display='none'; Codehighlighter1_308_477_Open_Image.style.display='inline'; Codehighlighter1_308_477_Open_Text.style.display='inline';" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedBlock.gif" align="top" width="11" height="16"> </span><span id="Codehighlighter1_308_477_Closed_Text" style="border: 1px solid rgb(128, 128, 128); display: none; background-color: rgb(255, 255, 255);"><img src="http://www.cnblogs.com/Images/dot.gif" width="15" height="20"></span><span id="Codehighlighter1_308_477_Open_Text"><span style="color: rgb(0, 0, 0);">{ <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" align="top" width="11" height="16"> </span><span style="color: rgb(0, 0, 255);">using</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 255);">namespace</span><span style="color: rgb(0, 0, 0);"> boost::io; <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" align="top" width="11" height="16"> format fmter(f_string); <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" align="top" width="11" height="16"> fmter.exceptions( all_error_bits </span><span style="color: rgb(0, 0, 0);">^</span><span style="color: rgb(0, 0, 0);"> ( too_many_args_bit </span><span style="color: rgb(0, 0, 0);">|</span><span style="color: rgb(0, 0, 0);"> too_few_args_bit ) ); <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" align="top" width="11" height="16"> </span><span style="color: rgb(0, 0, 255);">return</span><span style="color: rgb(0, 0, 0);"> fmter; <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" align="top" width="11" height="16"> }</span></span><span style="color: rgb(0, 0, 0);"> <br><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" align="top" width="11" height="16"> cout </span><span style="color: rgb(0, 0, 0);">&lt;&lt;</span><span style="color: rgb(0, 0, 0);"> my_fmt(</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);"> %1% %2% \n</span><span style="color: rgb(0, 0, 0);">"</span><span style="color: rgb(0, 0, 0);">) </span><span style="color: rgb(0, 0, 0);">%</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">1</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">%</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">2</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">%</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">3</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">%</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">4</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">%</span><span style="color: rgb(0, 0, 0);"> </span><span style="color: rgb(0, 0, 0);">5</span><span style="color: rgb(0, 0, 0);">; </span></div></div>

<p>&nbsp; <br><strong>五、还有其它一些功能，但暂时感觉派不上用处，就不去深究了。</strong> </p>