假定接口类为A，而将实现放在Impl类中，由于非指针类型成员变量必须和该成员类声明放在一起，而指针类型可以不这样做，因此<b>必须将Impl成员指针作为A的成员变量</b>，代码如下<br><br>Impl.h 实现类的头/实现文件，可以看到里面实现了方法operator()<br><div class="cnblogs_code"><!--<br><br>Code highlighting produced by Actipro CodeHighlighter (freeware)<br>http://www.CodeHighlighter.com/<br><br>--><img src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align="top"><span style="color: rgb(0, 0, 255);">class</span><span style="color: rgb(0, 0, 0);">&nbsp;Impl<br><img id="Codehighlighter1_11_60_Open_Image" src="https://www.cnblogs.com/images/OutliningIndicators/ExpandedBlockStart.gif" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_11_60_Open_Text').style.display='none'; document.getElementById('Codehighlighter1_11_60_Closed_Image').style.display='inline'; document.getElementById('Codehighlighter1_11_60_Closed_Text').style.display='inline';" align="top"><img id="Codehighlighter1_11_60_Closed_Image" src="https://www.cnblogs.com/images/OutliningIndicators/ContractedBlock.gif" style="display: none;" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_11_60_Closed_Text').style.display='none'; document.getElementById('Codehighlighter1_11_60_Open_Image').style.display='inline'; document.getElementById('Codehighlighter1_11_60_Open_Text').style.display='inline';" align="top"></span><span id="Codehighlighter1_11_60_Closed_Text" style="border: 1px solid rgb(128, 128, 128); background-color: rgb(255, 255, 255); display: none;"><img src="https://www.cnblogs.com/images/dot.gif"></span><span id="Codehighlighter1_11_60_Open_Text"><span style="color: rgb(0, 0, 0);">{<br><img src="https://www.cnblogs.com/images/OutliningIndicators/InBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: rgb(0, 0, 255);">public</span><span style="color: rgb(0, 0, 0);">:<br><img src="https://www.cnblogs.com/images/OutliningIndicators/InBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: rgb(0, 0, 255);">void</span><span style="color: rgb(0, 0, 0);">&nbsp;</span><span style="color: rgb(0, 0, 255);">operator</span><span style="color: rgb(0, 0, 0);">()(</span><span style="color: rgb(0, 0, 255);">int</span><span style="color: rgb(0, 0, 0);">&nbsp;nData)<br><img id="Codehighlighter1_51_58_Open_Image" src="https://www.cnblogs.com/images/OutliningIndicators/ExpandedSubBlockStart.gif" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_51_58_Open_Text').style.display='none'; document.getElementById('Codehighlighter1_51_58_Closed_Image').style.display='inline'; document.getElementById('Codehighlighter1_51_58_Closed_Text').style.display='inline';" align="top"><img id="Codehighlighter1_51_58_Closed_Image" src="https://www.cnblogs.com/images/OutliningIndicators/ContractedSubBlock.gif" style="display: none;" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_51_58_Closed_Text').style.display='none'; document.getElementById('Codehighlighter1_51_58_Open_Image').style.display='inline'; document.getElementById('Codehighlighter1_51_58_Open_Text').style.display='inline';" align="top">&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="Codehighlighter1_51_58_Closed_Text" style="border: 1px solid rgb(128, 128, 128); background-color: rgb(255, 255, 255); display: none;"><img src="https://www.cnblogs.com/images/dot.gif"></span><span id="Codehighlighter1_51_58_Open_Text"><span style="color: rgb(0, 0, 0);">{<br><img src="https://www.cnblogs.com/images/OutliningIndicators/InBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><img src="https://www.cnblogs.com/images/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color: rgb(0, 0, 0);"><br><img src="https://www.cnblogs.com/images/OutliningIndicators/ExpandedBlockEnd.gif" align="top">}</span></span><span style="color: rgb(0, 0, 0);">;</span></div><div class="cnblogs_code"><span id="Code_Closed_Text_180511" class="cnblogs_code_Collapse">A.h 接口类头文件，<b>不须要包含实现类的头文件</b><br><div class="cnblogs_code"><!--<br><br>Code highlighting produced by Actipro CodeHighlighter (freeware)<br>http://www.CodeHighlighter.com/<br><br>--><img src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align="top"><span style="color: rgb(0, 0, 255);">class</span><span style="color: rgb(0, 0, 0);">&nbsp;Impl;<br><img src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align="top"><br><img src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align="top"></span><span style="color: rgb(0, 0, 255);">class</span><span style="color: rgb(0, 0, 0);">&nbsp;A<br><img id="Codehighlighter1_21_112_Open_Image" src="https://www.cnblogs.com/images/OutliningIndicators/ExpandedBlockStart.gif" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_21_112_Open_Text').style.display='none'; document.getElementById('Codehighlighter1_21_112_Closed_Image').style.display='inline'; document.getElementById('Codehighlighter1_21_112_Closed_Text').style.display='inline';" align="top"><img id="Codehighlighter1_21_112_Closed_Image" src="https://www.cnblogs.com/images/OutliningIndicators/ContractedBlock.gif" style="display: none;" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_21_112_Closed_Text').style.display='none'; document.getElementById('Codehighlighter1_21_112_Open_Image').style.display='inline'; document.getElementById('Codehighlighter1_21_112_Open_Text').style.display='inline';" align="top"></span><span id="Codehighlighter1_21_112_Closed_Text" style="border: 1px solid rgb(128, 128, 128); background-color: rgb(255, 255, 255); display: none;"><img src="https://www.cnblogs.com/images/dot.gif"></span><span id="Codehighlighter1_21_112_Open_Text"><span style="color: rgb(0, 0, 0);">{<br><img src="https://www.cnblogs.com/images/OutliningIndicators/InBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: rgb(0, 0, 255);">public</span><span style="color: rgb(0, 0, 0);">:<br><img src="https://www.cnblogs.com/images/OutliningIndicators/InBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A();<br><img src="https://www.cnblogs.com/images/OutliningIndicators/InBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><img src="https://www.cnblogs.com/images/OutliningIndicators/InBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: rgb(0, 0, 0);">~</span><span style="color: rgb(0, 0, 0);">A();<br><img src="https://www.cnblogs.com/images/OutliningIndicators/InBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><img src="https://www.cnblogs.com/images/OutliningIndicators/InBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: rgb(0, 0, 255);">void</span><span style="color: rgb(0, 0, 0);">&nbsp;</span><span style="color: rgb(0, 0, 255);">operator</span><span style="color: rgb(0, 0, 0);">()(</span><span style="color: rgb(0, 0, 255);">int</span><span style="color: rgb(0, 0, 0);">&nbsp;nData);<br><img src="https://www.cnblogs.com/images/OutliningIndicators/InBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br><img src="https://www.cnblogs.com/images/OutliningIndicators/InBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: rgb(0, 0, 255);">private</span><span style="color: rgb(0, 0, 0);">:<br><img src="https://www.cnblogs.com/images/OutliningIndicators/InBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Impl&nbsp;</span><span style="color: rgb(0, 0, 0);">*</span><span style="color: rgb(0, 0, 0);">&nbsp;impl;<br><img src="https://www.cnblogs.com/images/OutliningIndicators/ExpandedBlockEnd.gif" align="top">}</span></span><span style="color: rgb(0, 0, 0);">;</span></div></span><span id="Code_Open_Text_180511" style="display: none;"><span style="color: rgb(0, 0, 255);">class</span><span style="color: rgb(0, 0, 0);">&nbsp;Impl;<br><br></span><span style="color: rgb(0, 0, 255);">class</span><span style="color: rgb(0, 0, 0);">&nbsp;A<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: rgb(0, 0, 255);">public</span><span style="color: rgb(0, 0, 0);">:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: rgb(0, 0, 0);">~</span><span style="color: rgb(0, 0, 0);">A();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: rgb(0, 0, 255);">void</span><span style="color: rgb(0, 0, 0);">&nbsp;</span><span style="color: rgb(0, 0, 255);">operator</span><span style="color: rgb(0, 0, 0);">()(</span><span style="color: rgb(0, 0, 255);">int</span><span style="color: rgb(0, 0, 0);">&nbsp;nData);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: rgb(0, 0, 255);">private</span><span style="color: rgb(0, 0, 0);">:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Impl&nbsp;</span><span style="color: rgb(0, 0, 0);">*</span><span style="color: rgb(0, 0, 0);">&nbsp;impl;<br>};</span></span></div>A.cpp 接口类的实现，需要包含实现类的头文件<br><div class="cnblogs_code"><!--<br><br>Code highlighting produced by Actipro CodeHighlighter (freeware)<br>http://www.CodeHighlighter.com/<br><br>--><img src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align="top"><span style="color: rgb(0, 0, 0);">#include&nbsp;</span><span style="color: rgb(128, 0, 0);">"</span><span style="color: rgb(128, 0, 0);">A.h</span><span style="color: rgb(128, 0, 0);">"</span><span style="color: rgb(0, 0, 0);"><br><img src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align="top">#include&nbsp;</span><span style="color: rgb(128, 0, 0);">"</span><span style="color: rgb(128, 0, 0);">Impl.h</span><span style="color: rgb(128, 0, 0);">"</span><span style="color: rgb(0, 0, 0);"><br><img src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align="top"><br><img src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align="top">A::A()<br><img id="Codehighlighter1_41_62_Open_Image" src="https://www.cnblogs.com/images/OutliningIndicators/ExpandedBlockStart.gif" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_41_62_Open_Text').style.display='none'; document.getElementById('Codehighlighter1_41_62_Closed_Image').style.display='inline'; document.getElementById('Codehighlighter1_41_62_Closed_Text').style.display='inline';" align="top"><img id="Codehighlighter1_41_62_Closed_Image" src="https://www.cnblogs.com/images/OutliningIndicators/ContractedBlock.gif" style="display: none;" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_41_62_Closed_Text').style.display='none'; document.getElementById('Codehighlighter1_41_62_Open_Image').style.display='inline'; document.getElementById('Codehighlighter1_41_62_Open_Text').style.display='inline';" align="top"></span><span id="Codehighlighter1_41_62_Closed_Text" style="border: 1px solid rgb(128, 128, 128); background-color: rgb(255, 255, 255); display: none;"><img src="https://www.cnblogs.com/images/dot.gif"></span><span id="Codehighlighter1_41_62_Open_Text"><span style="color: rgb(0, 0, 0);">{<br><img src="https://www.cnblogs.com/images/OutliningIndicators/InBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;impl&nbsp;</span><span style="color: rgb(0, 0, 0);">=</span><span style="color: rgb(0, 0, 0);">&nbsp;</span><span style="color: rgb(0, 0, 255);">new</span><span style="color: rgb(0, 0, 0);">&nbsp;Impl;<br><img src="https://www.cnblogs.com/images/OutliningIndicators/ExpandedBlockEnd.gif" align="top">}</span></span><span style="color: rgb(0, 0, 0);"><br><img src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align="top"><br><img src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align="top">A::</span><span style="color: rgb(0, 0, 0);">~</span><span style="color: rgb(0, 0, 0);">A()<br><img id="Codehighlighter1_72_89_Open_Image" src="https://www.cnblogs.com/images/OutliningIndicators/ExpandedBlockStart.gif" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_72_89_Open_Text').style.display='none'; document.getElementById('Codehighlighter1_72_89_Closed_Image').style.display='inline'; document.getElementById('Codehighlighter1_72_89_Closed_Text').style.display='inline';" align="top"><img id="Codehighlighter1_72_89_Closed_Image" src="https://www.cnblogs.com/images/OutliningIndicators/ContractedBlock.gif" style="display: none;" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_72_89_Closed_Text').style.display='none'; document.getElementById('Codehighlighter1_72_89_Open_Image').style.display='inline'; document.getElementById('Codehighlighter1_72_89_Open_Text').style.display='inline';" align="top"></span><span id="Codehighlighter1_72_89_Closed_Text" style="border: 1px solid rgb(128, 128, 128); background-color: rgb(255, 255, 255); display: none;"><img src="https://www.cnblogs.com/images/dot.gif"></span><span id="Codehighlighter1_72_89_Open_Text"><span style="color: rgb(0, 0, 0);">{<br><img src="https://www.cnblogs.com/images/OutliningIndicators/InBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;delete&nbsp;impl;<br><img src="https://www.cnblogs.com/images/OutliningIndicators/ExpandedBlockEnd.gif" align="top">}</span></span><span style="color: rgb(0, 0, 0);"><br><img src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align="top"><br><img src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align="top"></span><span style="color: rgb(0, 0, 255);">void</span><span style="color: rgb(0, 0, 0);">&nbsp;A::</span><span style="color: rgb(0, 0, 255);">operator</span><span style="color: rgb(0, 0, 0);">()(</span><span style="color: rgb(0, 0, 255);">int</span><span style="color: rgb(0, 0, 0);">&nbsp;nData)<br><img id="Codehighlighter1_121_141_Open_Image" src="https://www.cnblogs.com/images/OutliningIndicators/ExpandedBlockStart.gif" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_121_141_Open_Text').style.display='none'; document.getElementById('Codehighlighter1_121_141_Closed_Image').style.display='inline'; document.getElementById('Codehighlighter1_121_141_Closed_Text').style.display='inline';" align="top"><img id="Codehighlighter1_121_141_Closed_Image" src="https://www.cnblogs.com/images/OutliningIndicators/ContractedBlock.gif" style="display: none;" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_121_141_Closed_Text').style.display='none'; document.getElementById('Codehighlighter1_121_141_Open_Image').style.display='inline'; document.getElementById('Codehighlighter1_121_141_Open_Text').style.display='inline';" align="top"></span><span id="Codehighlighter1_121_141_Closed_Text" style="border: 1px solid rgb(128, 128, 128); background-color: rgb(255, 255, 255); display: none;"><img src="https://www.cnblogs.com/images/dot.gif"></span><span id="Codehighlighter1_121_141_Open_Text"><span style="color: rgb(0, 0, 0);">{<br><img src="https://www.cnblogs.com/images/OutliningIndicators/InBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;(</span><span style="color: rgb(0, 0, 0);">*</span><span style="color: rgb(0, 0, 0);">impl)(nData);<br><img src="https://www.cnblogs.com/images/OutliningIndicators/ExpandedBlockEnd.gif" align="top">}</span></span><span style="color: rgb(0, 0, 0);"><br><img src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align="top"><br><img src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align="top"><br><img src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align="top"></span></div>Main.cpp 主函数，<b>只需要包含接口类头文件即可，完全不需要知道实现类的任何东西</b><br><div class="cnblogs_code"><!--<br><br>Code highlighting produced by Actipro CodeHighlighter (freeware)<br>http://www.CodeHighlighter.com/<br><br>--><img src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align="top"><span style="color: rgb(0, 0, 0);">#include&nbsp;</span><span style="color: rgb(128, 0, 0);">"</span><span style="color: rgb(128, 0, 0);">A.h</span><span style="color: rgb(128, 0, 0);">"</span><span style="color: rgb(0, 0, 0);"><br><img src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align="top"><br><img src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align="top"></span><span style="color: rgb(0, 0, 255);">void</span><span style="color: rgb(0, 0, 0);">&nbsp;main()<br><img id="Codehighlighter1_28_46_Open_Image" src="https://www.cnblogs.com/images/OutliningIndicators/ExpandedBlockStart.gif" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_28_46_Open_Text').style.display='none'; document.getElementById('Codehighlighter1_28_46_Closed_Image').style.display='inline'; document.getElementById('Codehighlighter1_28_46_Closed_Text').style.display='inline';" align="top"><img id="Codehighlighter1_28_46_Closed_Image" src="https://www.cnblogs.com/images/OutliningIndicators/ContractedBlock.gif" style="display: none;" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_28_46_Closed_Text').style.display='none'; document.getElementById('Codehighlighter1_28_46_Open_Image').style.display='inline'; document.getElementById('Codehighlighter1_28_46_Open_Text').style.display='inline';" align="top"></span><span id="Codehighlighter1_28_46_Closed_Text" style="border: 1px solid rgb(128, 128, 128); background-color: rgb(255, 255, 255); display: none;"><img src="https://www.cnblogs.com/images/dot.gif"></span><span id="Codehighlighter1_28_46_Open_Text"><span style="color: rgb(0, 0, 0);">{<br><img src="https://www.cnblogs.com/images/OutliningIndicators/InBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;a;<br><img src="https://www.cnblogs.com/images/OutliningIndicators/InBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;<br><img src="https://www.cnblogs.com/images/OutliningIndicators/InBlock.gif" align="top">&nbsp;&nbsp;&nbsp;&nbsp;a(</span><span style="color: rgb(128, 0, 128);">0</span><span style="color: rgb(0, 0, 0);">);<br><img src="https://www.cnblogs.com/images/OutliningIndicators/ExpandedBlockEnd.gif" align="top">}</span></span></div><br>