<div>C++ 中實做 gc 有一個有名的 implementation，叫做 <a href="http://www.hpl.hp.com/personal/Hans_Boehm/gc/">Boehm garbage collector</a>。包括 gcj 或 mono 等知名的軟體專案都有採用。</div><div>http://patricklog.blogspot.com/2011/02/c-garbage-collector.html</div><div>/*<br />&nbsp; * gctest.cpp<br />&nbsp; *<br />&nbsp; *&nbsp; Created on: 2011/2/27<br />&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Author: Patrick Wang<br />&nbsp; */<br />&nbsp;#include &lt;gc/gc_cpp.h&gt;<br />&nbsp;#include &lt;iostream&gt;<br />&nbsp;<br />&nbsp;#define THIS "this: "&lt;&lt;this<br />&nbsp;<br />&nbsp;using namespace std;<br />&nbsp;<br />&nbsp;class ClassA: public virtual gc_cleanup {<br />&nbsp;public:<br />&nbsp;&nbsp; ClassA() { cout&lt;&lt;"Construction "&lt;&lt;THIS&lt;&lt;endl; }<br />&nbsp;&nbsp; ~ClassA() { cout&lt;&lt;"Destruction "&lt;&lt;THIS&lt;&lt;endl; }<br />&nbsp;&nbsp; int a[100000];<br />&nbsp;<br />&nbsp;};<br />&nbsp;<br />&nbsp;int main() {<br />&nbsp;&nbsp; GC_INIT();<br />&nbsp;&nbsp; cout&lt;&lt;"&gt;&gt;&gt; GC Heap size: "&lt;&lt;GC_get_heap_size()&lt;&lt;endl;<br />&nbsp;&nbsp; for (int i = 0; i &lt; 100; i++){<br />&nbsp;&nbsp;&nbsp;&nbsp; ClassA *a = new ClassA();<br />&nbsp;&nbsp;&nbsp;&nbsp; cout&lt;&lt;"&gt;&gt;&gt; GC Heap size: "&lt;&lt;GC_get_heap_size()&lt;&lt;endl;<br />&nbsp;&nbsp; }<br />&nbsp;}</div>