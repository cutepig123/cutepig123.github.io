<div>//union_find_sets<br />#include &lt;assert.h&gt;<br />#include &lt;stdio.h&gt;<br />#include &lt;stdlib.h&gt;<br />#include &lt;memory.h&gt;<br /><br />//两个优化：<br />//1：rank数组的引入，启发式函数<br />//2：路径压缩；<br /><br /><br />//Abstract: UFSet&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<br />//Author:Lifeng Wang （Fandywang）<br />// Model One 与Model 2 路径压缩方式不同,合并标准不同<br />const int MAXSIZE = 500010;<br />int rank[MAXSIZE];&nbsp;&nbsp;&nbsp; // 节点高度的上界<br />int parent[MAXSIZE]; // 根节点<br /><br />int FindSet(int x){// 查找+递归的路径压缩<br />&nbsp;&nbsp;&nbsp;&nbsp; if( x != parent[x] ) parent[x] = FindSet(parent[x]);<br />&nbsp;&nbsp;&nbsp;&nbsp; return parent[x];<br />}<br />void Union(int root1, int root2){<br />&nbsp;&nbsp;&nbsp;&nbsp; int x = FindSet(root1), y = FindSet(root2);<br />&nbsp;&nbsp;&nbsp;&nbsp; if( x == y ) return ;<br />&nbsp;&nbsp;&nbsp;&nbsp; if( rank[x] &gt; rank[y] ) parent[y] = x;<br />&nbsp;&nbsp;&nbsp;&nbsp; else{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; parent[x] = y;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if( rank[x] == rank[y] ) ++rank[y];<br />&nbsp;&nbsp;&nbsp;&nbsp; }<br />}<br />void Initi(void){<br />&nbsp;&nbsp;&nbsp;&nbsp; memset(rank, 0, sizeof(rank));<br />&nbsp;&nbsp;&nbsp;&nbsp; for( int i=0; i &lt; MAXSIZE; ++i ) parent[i] = i;<br />}<br /><br /><br />int main()<br />{<br />&nbsp;&nbsp; &nbsp;Initi();<br /><br />&nbsp;&nbsp; &nbsp;Union(0,1);<br />&nbsp;&nbsp; &nbsp;Union(0,2);<br />&nbsp;&nbsp; &nbsp;Union(2,1);<br />&nbsp;&nbsp; &nbsp;Union(3,1);<br />&nbsp;&nbsp; &nbsp;Union(4,5);<br />&nbsp;&nbsp; &nbsp;Union(4,6);<br />&nbsp;&nbsp; &nbsp;Union(7,8);<br /><br />&nbsp;&nbsp; &nbsp;int nSet=0;<br />&nbsp;&nbsp; &nbsp;for( int i=0; i&lt;10; i++)&nbsp;&nbsp; &nbsp;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if(parent[i]==i)<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;nSet++;<br />&nbsp;&nbsp; &nbsp;assert(nSet==4);<br />}&nbsp;&nbsp; &nbsp;<br /></div>