<p>&nbsp;</p><div id="side"> 	<dl><dt>参与人数</dt><dd>4849</dd><dt>提交次数</dt><dd>25797 </dd></dl></div><p>&nbsp;</p><p>分数 　　名次</p><p>1000　　1~239</p><p>700　　 ~265</p><p>...</p><p>400 &nbsp; &nbsp; &nbsp; &nbsp; ~ 450<br /></p><p>&nbsp;</p> <table col-10=""><thead><tr><td>编号</td> 			<td>标题</td> 			<td>分数</td> 			<td>通过率</td> 			<td>通过人数</td> 			<td>提交次数</td> 		</tr> 	</thead> 	<tbody> 			<tr> 						<td>A</td> 			<td><a target="_blank" href="http://poj.youdao.com/nanti1/A/">另类的异或</a></td> 			<td>150</td> 			<td>29%</td> 			<td><a target="_blank" href="http://poj.youdao.com/nanti1/A/statistics/">3405</a></td> 			<td><a target="_blank" href="http://poj.youdao.com/nanti1/A/statistics/">11947</a></td> 		</tr> 			<tr> 						<td>B</td> 			<td><a target="_blank" href="http://poj.youdao.com/nanti1/B/">有道搜索框</a></td> 			<td>300</td> 			<td>13%</td> 			<td><a target="_blank" href="http://poj.youdao.com/nanti1/B/statistics/">1439</a></td> 			<td><a target="_blank" href="http://poj.youdao.com/nanti1/B/statistics/">11065</a></td> 		</tr> 			<tr> 						<td>C</td> 			<td><a target="_blank" href="http://poj.youdao.com/nanti1/C/">最大和子序列</a></td> 			<td>550</td> 			<td>10%</td> 			<td><a target="_blank" href="http://poj.youdao.com/nanti1/C/statistics/">274</a></td> 			<td><a target="_blank" href="http://poj.youdao.com/nanti1/C/statistics/">2785</a></td></tr></tbody></table><div id="pageTitle"> 				<h2>A:另类的异或</h2> 			</div> 			 <div id="problemPageTitleDescrip">	 	<div id="bottomMenu"> 		<ul><li><a target="_blank" href="http://poj.youdao.com/nanti1/A/">查看</a></li><li><a target="_blank" href="http://poj.youdao.com/nanti1/A/submit/">提交</a></li><li><a target="_blank" href="http://poj.youdao.com/nanti1/A/statistics/">统计</a></li><li><a target="_blank" href="http://poj.youdao.com/nanti1/clarify/A/">讨论</a></li></ul> 	</div> </div> 	<dl><dt>时间限制: </dt><dd>1000ms</dd><dt>内存限制: </dt><dd>131072kB</dd></dl> 	<dl><dt>描述</dt><dd>对于普通的异或，其实是二进制的无进位的加法<br /> 这里我们定义一种另类的异或A op B, op是一个仅由^组成的字符串，如果op中包含n个^，那么A op B表示A和B之间进行n+1进制的无进位的加法。<br /> 下图展示了3 ^ 5 和 4 ^^ 5的计算过程<br /> <img src="http://poj.youdao.com/groups/youdao/xor.jpg" alt="" /></dd><dt>输入</dt><dd>第一行有一个正整数T, 表示下面共有T组测试数据。<br /> 接下来T行，每行有一组测试数据，是由空格隔开的三个部分组成：<br /> A B C<br /> A和C是两个十进制整数，B是一个字符串，由n个^组成<br /> 1 &lt;= T &lt;= 100, 0&lt;=A,B&lt;2^30, 1&lt;=n&lt;=1000</dd><dt>输出</dt><dd>每个测试数据输出一行，包含一个数字，即该数据的结果，用十进制表示。</dd><dt>样例输入</dt><dd><pre>2<br />3 ^ 5<br />4 ^^ 5<br /></pre></dd><dt>样例输出</dt><dd><pre>6</pre></dd></dl><div class="cnblogs_code" onclick="cnblogs_code_show('1a0d64fa-da76-419d-a23e-519c3bc924f6')"><img src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" class="code_img_closed" id="code_img_closed_1a0d64fa-da76-419d-a23e-519c3bc924f6"  alt="" /><img src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" class="code_img_opened" id="code_img_opened_1a0d64fa-da76-419d-a23e-519c3bc924f6" onclick="cnblogs_code_hide('1a0d64fa-da76-419d-a23e-519c3bc924f6',event)" style="display: none;"><span class="cnblogs_code_collapse">代码</span><div id="cnblogs_code_open_1a0d64fa-da76-419d-a23e-519c3bc924f6" class="cnblogs_code_hide"><div><!--<br/ /><br/ />Code highlighting produced by Actipro CodeHighlighter (freeware)<br/ />http://www.CodeHighlighter.com/<br/ /><br/ />--><span style="color: #000000;">#include&nbsp;</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">stdio.h</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"><br />#include&nbsp;</span><span style="color: #000000;">&lt;</span><span style="color: #0000ff;">string</span><span style="color: #000000;">.h</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"><br />#include&nbsp;</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">memory.h</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"><br /><br /></span><span style="color: #008000;">//</span><span style="color: #008000;">将数字从十进制转换到制定进制<br /></span><span style="color: #008000;">//</span><span style="color: #008000;">input:<br /></span><span style="color: #008000;">//</span><span style="color: #008000;">n:&nbsp;要转换的数字(十进制)<br /></span><span style="color: #008000;">//</span><span style="color: #008000;">m:&nbsp;要转换的进制<br /></span><span style="color: #008000;">//</span><span style="color: #008000;">output:<br /></span><span style="color: #008000;">//</span><span style="color: #008000;">a,l:&nbsp;要求进制的数字,和位数,[0]为最低位</span><span style="color: #008000;"><br /></span><span style="color: #0000ff;">void</span><span style="color: #000000;">&nbsp;split(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;n,&nbsp;</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;m,</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;a[],</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">l)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;l</span><span style="color: #000000;">=</span><span style="color: #800080;">0</span><span style="color: #000000;">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">for</span><span style="color: #000000;">(;n;n</span><span style="color: #000000;">/=</span><span style="color: #000000;">m)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a[l</span><span style="color: #000000;">++</span><span style="color: #000000;">]</span><span style="color: #000000;">=</span><span style="color: #000000;">n</span><span style="color: #000000;">%</span><span style="color: #000000;">m;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000ff;">void</span><span style="color: #000000;">&nbsp;print(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;a[],</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;l)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;i</span><span style="color: #000000;">=</span><span style="color: #800080;">0</span><span style="color: #000000;">;i</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">l;i</span><span style="color: #000000;">++</span><span style="color: #000000;">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d&nbsp;</span><span style="color: #800000;">"</span><span style="color: #000000;">,a[i]);<br />&nbsp;&nbsp;&nbsp;&nbsp;printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);<br />}<br /><br /></span><span style="color: #008000;">//</span><span style="color: #008000;">将指定进制的数字做xor运算<br /></span><span style="color: #008000;">//</span><span style="color: #008000;">input:<br /></span><span style="color: #008000;">//</span><span style="color: #008000;">a,n1,b,n2<br /></span><span style="color: #008000;">//</span><span style="color: #008000;">m<br /></span><span style="color: #008000;">//</span><span style="color: #008000;">output:<br /></span><span style="color: #008000;">//</span><span style="color: #008000;">c</span><span style="color: #008000;"><br /></span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;xor(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;</span><span style="color: #0000ff;">const</span><span style="color: #000000;">&nbsp;a[],</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;n1,&nbsp;</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;&nbsp;</span><span style="color: #0000ff;">const</span><span style="color: #000000;">&nbsp;b[],</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;n2,&nbsp;</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;m,&nbsp;</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;c[])<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;k</span><span style="color: #000000;">=</span><span style="color: #000000;">n1</span><span style="color: #000000;">&gt;</span><span style="color: #000000;">n2</span><span style="color: #000000;">?</span><span style="color: #000000;">n1:n2;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;i</span><span style="color: #000000;">=</span><span style="color: #800080;">0</span><span style="color: #000000;">;i</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">k;i</span><span style="color: #000000;">++</span><span style="color: #000000;">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c[i]</span><span style="color: #000000;">=</span><span style="color: #000000;">(a[i]</span><span style="color: #000000;">+</span><span style="color: #000000;">b[i])</span><span style="color: #000000;">%</span><span style="color: #000000;">m;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">return</span><span style="color: #000000;">&nbsp;k;<br />}<br /><br /></span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;A[</span><span style="color: #800080;">50</span><span style="color: #000000;">];<br /></span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;nA</span><span style="color: #000000;">=</span><span style="color: #800080;">0</span><span style="color: #000000;">;<br /></span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;nB</span><span style="color: #000000;">=</span><span style="color: #800080;">0</span><span style="color: #000000;">;<br /></span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;B[</span><span style="color: #800080;">50</span><span style="color: #000000;">];<br /></span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;nC</span><span style="color: #000000;">=</span><span style="color: #800080;">0</span><span style="color: #000000;">;<br /></span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;C[</span><span style="color: #800080;">50</span><span style="color: #000000;">];<br /><br /></span><span style="color: #008000;">//</span><span style="color: #008000;">将数字从指定进制转换到十进制</span><span style="color: #008000;"><br /></span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;merge(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;</span><span style="color: #0000ff;">const</span><span style="color: #000000;">&nbsp;a[],</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;n1,&nbsp;</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;m)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;r</span><span style="color: #000000;">=</span><span style="color: #800080;">0</span><span style="color: #000000;">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;i</span><span style="color: #000000;">=</span><span style="color: #800080;">0</span><span style="color: #000000;">;i</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">n1;i</span><span style="color: #000000;">++</span><span style="color: #000000;">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;</span><span style="color: #000000;">=</span><span style="color: #000000;">r</span><span style="color: #000000;">*</span><span style="color: #000000;">m</span><span style="color: #000000;">+</span><span style="color: #000000;">a[n1</span><span style="color: #000000;">-</span><span style="color: #800080;">1</span><span style="color: #000000;">-</span><span style="color: #000000;">i];<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">return</span><span style="color: #000000;">&nbsp;r;<br />}<br /><br /></span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;main(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;argc,&nbsp;</span><span style="color: #0000ff;">char</span><span style="color: #000000;">&nbsp;</span><span style="color: #000000;">*</span><span style="color: #000000;">argv[])<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;T;<br />&nbsp;&nbsp;&nbsp;&nbsp;scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d</span><span style="color: #800000;">"</span><span style="color: #000000;">,</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">T);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">while</span><span style="color: #000000;">(T</span><span style="color: #000000;">--</span><span style="color: #000000;">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;a,b</span><span style="color: #000000;">=</span><span style="color: #800080;">0</span><span style="color: #000000;">,m;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">char</span><span style="color: #000000;">&nbsp;s[</span><span style="color: #800080;">1000</span><span style="color: #000000;">+</span><span style="color: #800080;">1</span><span style="color: #000000;">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d&nbsp;%s&nbsp;%d</span><span style="color: #800000;">"</span><span style="color: #000000;">,</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">a,s,</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">b);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m</span><span style="color: #000000;">=</span><span style="color: #000000;">strlen(s)</span><span style="color: #000000;">+</span><span style="color: #800080;">1</span><span style="color: #000000;">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000;">//</span><span style="color: #008000;">printf("a&nbsp;%d&nbsp;b&nbsp;%d&nbsp;m&nbsp;%d\n",a,b,m);</span><span style="color: #008000;"><br /></span><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;memset(A,</span><span style="color: #800080;">0</span><span style="color: #000000;">,</span><span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(A));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;memset(B,</span><span style="color: #800080;">0</span><span style="color: #000000;">,</span><span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(B));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;memset(C,</span><span style="color: #800080;">0</span><span style="color: #000000;">,</span><span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(C));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;split(a,m,A,nA);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;split(b,m,B,nB);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000;">//</span><span style="color: #008000;">print(A,nA);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000;">//</span><span style="color: #008000;">print(B,nB);</span><span style="color: #008000;"><br /></span><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nC</span><span style="color: #000000;">=</span><span style="color: #000000;">xor(A,nA,B,nB,m,C);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000;">//</span><span style="color: #008000;">print(C,nC);</span><span style="color: #008000;"><br /></span><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;r</span><span style="color: #000000;">=</span><span style="color: #000000;">merge(C,nC,m);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d\n</span><span style="color: #800000;">"</span><span style="color: #000000;">,r);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">return</span><span style="color: #000000;">&nbsp;</span><span style="color: #800080;">0</span><span style="color: #000000;">;<br />}<br /></span></div></div></div><p><br /></p><dl><dt><br /></dt></dl><div id="pageTitle"> 				<h2>B:有道搜索框</h2> 			</div> 			 <div id="problemPageTitleDescrip">	 	<div id="bottomMenu"> 		<ul><li><a target="_blank" href="http://poj.youdao.com/nanti1/B/">查看</a></li><li><a target="_blank" href="http://poj.youdao.com/nanti1/B/submit/">提交</a></li><li><a target="_blank" href="http://poj.youdao.com/nanti1/B/statistics/">统计</a></li><li><a target="_blank" href="http://poj.youdao.com/nanti1/clarify/B/">讨论</a></li></ul> 	</div> </div> 	<dl><dt>时间限制: </dt><dd>1000ms</dd><dt>内存限制: </dt><dd>131072kB</dd></dl> 	<dl><dt>描述</dt><dd>在有道搜索框中，当输入一个或者多个字符时，搜索框会出现一定数量的提示，如下图所示：<br /> <img src="http://poj.youdao.com/groups/youdao/suggest.jpg" alt="" /><br /> <br /> 现在给你N个单词和一些查询，请输出提示结果，为了简化这个问题，只需要输出以查询词为前缀的并且按字典序排列的最前面的8个单词，如果符合要求的单词一个也没有请只输出当前查询词。</dd><dt>输入</dt><dd>第一行是一个正整数N，表示词表中有N个单词。<br /> 接下来有N行，每行都有一个单词，注意词表中的单词可能有重复，请忽略掉重复单词。所有的单词都由小写字母组成。<br /> 接下来的一行有一个正整数Q，表示接下来有Q个查询。<br /> 接下来Q行，每行有一个单词，表示一个查询词，所有的查询词也都是由小写字母组成，并且所有的单词以及查询的长度都不超过20，且都不为空<br /> 其中：N&lt;=10000,Q&lt;=10000</dd><dt>输出</dt><dd>对于每个查询，输出一行，按顺序输出该查询词的提示结果，用空格隔开。</dd><dt>样例输入</dt><dd><pre>10<br />a<br />ab<br />hello<br />that<br />those<br />dict<br />youdao<br />world<br />your<br />dictionary<br />6<br />bob<br />d<br />dict<br />dicti<br />yo<br />z<br /></pre></dd><dt>样例输出</dt><dd><pre>bob<br />dict dictionary<br />dict dictionary<br />dictionary<br />youdao your<br />z</pre></dd></dl><div class="cnblogs_code" onclick="cnblogs_code_show('fee96afa-e34f-4bcd-b3b2-b3799169a225')"><img src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" class="code_img_closed" id="code_img_closed_fee96afa-e34f-4bcd-b3b2-b3799169a225"  alt="" /><img src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" class="code_img_opened" id="code_img_opened_fee96afa-e34f-4bcd-b3b2-b3799169a225" onclick="cnblogs_code_hide('fee96afa-e34f-4bcd-b3b2-b3799169a225',event)" style="display: none;"><span class="cnblogs_code_collapse">代码</span><div id="cnblogs_code_open_fee96afa-e34f-4bcd-b3b2-b3799169a225" class="cnblogs_code_hide"><div><!--<br/ /><br/ />Code highlighting produced by Actipro CodeHighlighter (freeware)<br/ />http://www.CodeHighlighter.com/<br/ /><br/ />--><span style="color: #008000;">//</span><span style="color: #008000;">&nbsp;test.cpp&nbsp;:&nbsp;Defines&nbsp;the&nbsp;entry&nbsp;point&nbsp;for&nbsp;the&nbsp;console&nbsp;application.<br /></span><span style="color: #008000;">//<br /></span><span style="color: #000000;"><br />#include&nbsp;</span><span style="color: #800000;">"</span><span style="color: #800000;">stdafx.h</span><span style="color: #800000;">"</span><span style="color: #000000;"><br /><br />#include&nbsp;</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">stdio.h</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"><br />#include&nbsp;</span><span style="color: #000000;">&lt;</span><span style="color: #0000ff;">string</span><span style="color: #000000;">.h</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"><br />#include&nbsp;</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">memory.h</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"><br />#include&nbsp;</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">assert.h</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"><br /><br /></span><span style="color: #0000ff;">struct</span><span style="color: #000000;">&nbsp;node<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">char</span><span style="color: #000000;">&nbsp;end;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">long</span><span style="color: #000000;">&nbsp;child[</span><span style="color: #800080;">26</span><span style="color: #000000;">];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000;">//</span><span style="color: #008000;">idx&nbsp;of&nbsp;its&nbsp;child</span><span style="color: #008000;"><br /></span><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;node()<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:end(</span><span style="color: #800080;">0</span><span style="color: #000000;">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;memset(child,</span><span style="color: #800080;">0</span><span style="color: #000000;">,</span><span style="color: #0000ff;">sizeof</span><span style="color: #000000;">(child));<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}nodes[</span><span style="color: #800080;">10000</span><span style="color: #000000;">*</span><span style="color: #800080;">20</span><span style="color: #000000;">];<br /></span><span style="color: #0000ff;">long</span><span style="color: #000000;">&nbsp;n</span><span style="color: #000000;">=</span><span style="color: #800080;">0</span><span style="color: #000000;">;<br /><br /></span><span style="color: #0000ff;">void</span><span style="color: #000000;">&nbsp;insert(</span><span style="color: #0000ff;">char</span><span style="color: #000000;">&nbsp;</span><span style="color: #0000ff;">const</span><span style="color: #000000;">&nbsp;s[])<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">long</span><span style="color: #000000;">&nbsp;idx</span><span style="color: #000000;">=</span><span style="color: #800080;">0</span><span style="color: #000000;">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;i</span><span style="color: #000000;">=</span><span style="color: #800080;">0</span><span style="color: #000000;">,m</span><span style="color: #000000;">=</span><span style="color: #000000;">strlen(s);i</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">m;i</span><span style="color: #000000;">++</span><span style="color: #000000;">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">long</span><span style="color: #000000;">&nbsp;</span><span style="color: #000000;">*</span><span style="color: #000000;">pidx</span><span style="color: #000000;">=&amp;</span><span style="color: #000000;">nodes[idx].child[s[i]</span><span style="color: #000000;">-</span><span style="color: #800000;">'</span><span style="color: #800000;">a</span><span style="color: #800000;">'</span><span style="color: #000000;">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">if</span><span style="color: #000000;">(</span><span style="color: #000000;">*</span><span style="color: #000000;">pidx</span><span style="color: #000000;">==</span><span style="color: #800080;">0</span><span style="color: #000000;">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;idx</span><span style="color: #000000;">=*</span><span style="color: #000000;">pidx</span><span style="color: #000000;">=++</span><span style="color: #000000;">n;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">else</span><span style="color: #000000;"><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;idx</span><span style="color: #000000;">=*</span><span style="color: #000000;">pidx;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">if</span><span style="color: #000000;">(i</span><span style="color: #000000;">==</span><span style="color: #000000;">m</span><span style="color: #000000;">-</span><span style="color: #800080;">1</span><span style="color: #000000;">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodes[idx].end</span><span style="color: #000000;">=</span><span style="color: #800080;">1</span><span style="color: #000000;">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000ff;">char</span><span style="color: #000000;">&nbsp;str[</span><span style="color: #800080;">20</span><span style="color: #000000;">];<br /></span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;nStr</span><span style="color: #000000;">=</span><span style="color: #800080;">0</span><span style="color: #000000;">;<br /></span><span style="color: #0000ff;">void</span><span style="color: #000000;">&nbsp;print(</span><span style="color: #0000ff;">long</span><span style="color: #000000;">&nbsp;idx)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">if</span><span style="color: #000000;">(nodes[idx].end)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str[nStr]</span><span style="color: #000000;">=</span><span style="color: #800080;">0</span><span style="color: #000000;">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s&nbsp;</span><span style="color: #800000;">"</span><span style="color: #000000;">,str);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;i</span><span style="color: #000000;">=</span><span style="color: #800080;">0</span><span style="color: #000000;">;i</span><span style="color: #000000;">&lt;</span><span style="color: #800080;">26</span><span style="color: #000000;">;i</span><span style="color: #000000;">++</span><span style="color: #000000;">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">long</span><span style="color: #000000;">&nbsp;idx2</span><span style="color: #000000;">=</span><span style="color: #000000;">nodes[idx].child[i];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">if</span><span style="color: #000000;">(idx2)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str[nStr</span><span style="color: #000000;">++</span><span style="color: #000000;">]</span><span style="color: #000000;">=</span><span style="color: #000000;">i</span><span style="color: #000000;">+</span><span style="color: #800000;">'</span><span style="color: #800000;">a</span><span style="color: #800000;">'</span><span style="color: #000000;">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(idx2);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nStr</span><span style="color: #000000;">--</span><span style="color: #000000;">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000ff;">void</span><span style="color: #000000;">&nbsp;srch(</span><span style="color: #0000ff;">char</span><span style="color: #000000;">&nbsp;</span><span style="color: #0000ff;">const</span><span style="color: #000000;">&nbsp;s[])<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">bool</span><span style="color: #000000;">&nbsp;find</span><span style="color: #000000;">=</span><span style="color: #0000ff;">true</span><span style="color: #000000;">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">long</span><span style="color: #000000;">&nbsp;idx</span><span style="color: #000000;">=</span><span style="color: #800080;">0</span><span style="color: #000000;">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;i</span><span style="color: #000000;">=</span><span style="color: #800080;">0</span><span style="color: #000000;">,m</span><span style="color: #000000;">=</span><span style="color: #000000;">strlen(s);i</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">m;i</span><span style="color: #000000;">++</span><span style="color: #000000;">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;idx</span><span style="color: #000000;">=</span><span style="color: #000000;">nodes[idx].child[s[i]</span><span style="color: #000000;">-</span><span style="color: #800000;">'</span><span style="color: #800000;">a</span><span style="color: #800000;">'</span><span style="color: #000000;">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">if</span><span style="color: #000000;">(</span><span style="color: #000000;">!</span><span style="color: #000000;">idx)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;find&nbsp;</span><span style="color: #000000;">=</span><span style="color: #000000;">&nbsp;</span><span style="color: #0000ff;">false</span><span style="color: #000000;">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">break</span><span style="color: #000000;">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">if</span><span style="color: #000000;">(</span><span style="color: #000000;">!</span><span style="color: #000000;">find)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s\n</span><span style="color: #800000;">"</span><span style="color: #000000;">,s);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">else</span><span style="color: #000000;"><br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strcpy(str,s);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nStr</span><span style="color: #000000;">=</span><span style="color: #000000;">strlen(s);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(idx);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">\n</span><span style="color: #800000;">"</span><span style="color: #000000;">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;main(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;argc,&nbsp;</span><span style="color: #0000ff;">char</span><span style="color: #000000;">&nbsp;</span><span style="color: #000000;">*</span><span style="color: #000000;">argv[])<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;N;<br />&nbsp;&nbsp;&nbsp;&nbsp;scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d</span><span style="color: #800000;">"</span><span style="color: #000000;">,</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">N);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">while</span><span style="color: #000000;">(N</span><span style="color: #000000;">--</span><span style="color: #000000;">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">char</span><span style="color: #000000;">&nbsp;s[</span><span style="color: #800080;">20</span><span style="color: #000000;">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s</span><span style="color: #800000;">"</span><span style="color: #000000;">,s);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;insert(s);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000;">//</span><span style="color: #008000;">srch("");</span><span style="color: #008000;"><br /></span><span style="color: #000000;"><br />&nbsp;&nbsp;&nbsp;&nbsp;scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d</span><span style="color: #800000;">"</span><span style="color: #000000;">,</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">N);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">while</span><span style="color: #000000;">(N</span><span style="color: #000000;">--</span><span style="color: #000000;">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">char</span><span style="color: #000000;">&nbsp;s[</span><span style="color: #800080;">20</span><span style="color: #000000;">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%s</span><span style="color: #800000;">"</span><span style="color: #000000;">,s);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;srch(s);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">return</span><span style="color: #000000;">&nbsp;</span><span style="color: #800080;">0</span><span style="color: #000000;">;<br />}<br /><br /></span></div></div></div><p><br /></p><dl><dt><br /></dt></dl><div id="pageTitle"> 				<h2>C:最大和子序列</h2> 			</div> 			 <div id="problemPageTitleDescrip">	 	<div id="bottomMenu"> 		<ul><li><a target="_blank" href="http://poj.youdao.com/nanti1/C/">查看</a></li><li><a target="_blank" href="http://poj.youdao.com/nanti1/C/submit/">提交</a></li><li><a target="_blank" href="http://poj.youdao.com/nanti1/C/statistics/">统计</a></li><li><a target="_blank" href="http://poj.youdao.com/nanti1/clarify/C/">讨论</a></li></ul> 	</div> </div> 	<dl><dt>时间限制: </dt><dd>1000ms</dd><dt>内存限制: </dt><dd>131072kB</dd></dl> 	<dl><dt>描述</dt><dd>给一个整数数组A={a1,a2,&#8230;an}, 将这个数组首尾相接连成一个环状，它的一个子序列是指这个数组连续的一段，比如a2,a3&#8230;ak，或者an,a1&#8230;ai。请从这个环上选取两个不重叠的非空子序列，使这两个子序列中的所有数字之和最大。<br /> 	在三个样例中分别选取的子序列是:<br /> 	样例一: {a1} {a3}<br /> 	样例二: {a1} {a3}<br /> 	样例三: {a5,a1} {a3}</dd><dt>输入</dt><dd>输入的第一行包含一个正整数T(1&lt;=T&lt;=40)，表示有T组测试数据。<br /> 接下来每个测试数据包含两行，第一行是一个正整数n(2&lt;=n&lt;=50000), 第二行是用空格隔开的数组A的n个数，依次为a1,a2,&#8230;an (|ai|&lt;=10000)。</dd><dt>输出</dt><dd>每组数据输出一行，包含一个数，即所求的这两个子序列的元素之和。</dd><dt>样例输入</dt><dd><pre>3<br />3<br />1 -1 0<br />4<br />1 -1 1 -1<br />5<br />1 -1 1 -1 1<br /></pre></dd><dt>样例输出</dt><dd><pre>1<br />2<br />3<br /></pre></dd><dt>提示</dt></dl>