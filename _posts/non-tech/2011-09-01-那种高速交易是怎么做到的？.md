---
categories: non-tech
---
<p>发信人: jesuszhu (jesuszhu), 信区: Python<br />标&nbsp; 题: Re: 那种高速交易是怎么做到的？<br />发信站: 水木社区 (Thu Aug 25 11:44:26 2011), 转信<br /><br />你是说Oceanbase吗? 它其实是分布的, 但设计非常特殊. 你说的这个单机是它的<br />updateserver, 这机器是个纯内存的数据库, 当然非常快, 确实机器也非常好. 然后它的<br />数据会慢慢扩散到下边的chunkserver上做持久化. 查询时updateserver内存中的最新数据<br />需要和chunkserver中之前持久化的数据做一次merge后返回给用户. 这个项目很快就开源<br />了, 欢迎大家有兴趣去研究....<br /><br /><br />【 在 josephpei (Nikon，感动常在) 的大作中提到: 】<br />: 硬件<br />: 阿里巴巴 的自己搞的一个数据库据说还不是分布式的，是单机的，人家有钱搞超级牛的<br />服务器<br /><br /><br />发信人: xm1y (xmly), 信区: Python<br />标&nbsp; 题: Re: 那种高速交易是怎么做到的？<br />发信站: 水木社区 (Thu Aug 25 11:56:10 2011), 转信<br /><br />VoltDB 是full memory database<br />磁盘IO都是被优化过的&nbsp; 而且低成本<br />他们主要面向客户就是 金融客户<br /><br />MySql Cluster&nbsp; 更是号称<br /><br />MySQL Cluster 7.1 Delivers 6.82m Operations Per Second across 16<br />Intel Servers<br /><br />6.82m Reads per Second.<br /><br />2.5m Updates per Second across 8 Intel Servers.<br /><br />当然这都是低成本的实现方式<br /><br />金融机构有的是钱&nbsp;&nbsp; 那就 大型机+ Oracle RCA 解决问题了<br />基本上也到了这个速度<br /><br />前端在放一组 app cluster 接受order</p>
<p></p>
<p>http://rdc.taobao.com/blog/cs/?p=956<br /><br />发信人: kabbesy (资深PPTer重出江湖), 信区: Java<br />标&nbsp; 题: Re: 据说taobao开源了个海量数据库<br />发信站: 水木社区 (Thu Sep&nbsp; 1 20:54:51 2011), 站内<br /><br />看完了，大概是这样子的<br /><br /><br />更新类操作提交给updateServer<br />这货在纯粹的内存中进行记录并维护事务<br />基于c++实现很可能也是这块对malloc有很高的要求<br /><br />虽然updateServer是单机，但有commit log，且有热备<br /><br />动态数据commit后到一个128M的内存块<br />满后冻结并持久化写入chunk server（也就是一般意义上的data node）中的ssd<br />chunk server在相对空闲时，将这些碎片ssd合并入自己的主内容块<br />（这里跟各种搜索引擎中，倒排序索引的增量合并应该是一个套路）<br /><br />以上都没啥特殊的，特殊的在于查询时并非直接获取chunk server<br />（因为它怎么着都有写延迟）<br />而是去叫做 merge server的东东上获取<br /><br />它会合并update server 内存块和chunk server数据块中各自的查询结果<br />最典型的例子就是 delete * from A where id = 1 后的一段时间内<br />chunkserver并未及时更新，但是update server有此记录（或者是某个地方，没细究）<br /><br /><br /><br />基本上，这个东东的模式基本是：hbase + delta index 俩模式的合并<br />所以才能一方面保持超大数据规模，同时还有比较高的查询实时性，至于事务什么的纯靠单机内存来实现的<br /><br />但是有个问题是写入频度并不是超高的那种<br />而且单机update server依旧还是个写入的单点 ╮(╯_╰)╭<br />我觉得如果拿cache + mysql proxy + nosql 的组合，应该也能模拟个七七八八<br /><br /><br /><br />最后，完整的实现真令人钦佩<br />taobao太牛逼了！国内最强啊！<br /><br /><br />这个赞同，很像<br /><br />oceanbase自己维护了chunkserver中的数据副本（hbase把这个复杂度扔给hdfs了），然后再扣除了zookeeper<br /><br />但是比hbase强的就是其 memtable了，这一点更像bigtable<br /><br />【 在 kabbesy (资深PPTer重出江湖) 的大作中提到: 】<br />: 看了开头，貌似跟hbase一样啊<br /><br /><br /></p>