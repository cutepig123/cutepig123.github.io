<div>#include &lt;stdio.h&gt;<br />#include &lt;typeinfo.h&gt;<br />//<br />// TypeList<br />//<br />template &lt;class T, class U&gt;<br />struct TypeList<br />{<br />&nbsp;&nbsp; &nbsp;typedef T Head;<br />&nbsp;&nbsp; &nbsp;typedef U Tail;<br />};<br /><br />struct NullType<br />{<br />};<br /><br />#define TYPELIST_1(T1)&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;TypeList&lt;T1, NullType&gt;<br />#define TYPELIST_2(T1, T2)&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;TypeList&lt;T1, TYPELIST_1(T2) &gt;<br />#define TYPELIST_3(T1, T2, T3)&nbsp;&nbsp; &nbsp;TypeList&lt;T1, TYPELIST_2(T2,T3) &gt;<br /><br />//<br />// Length<br />//<br />template &lt;class TList&gt;&nbsp; struct Length;<br /><br />template &lt;&gt;&nbsp; struct Length&lt;NullType &gt;<br />{<br />&nbsp;&nbsp; &nbsp;enum {value = 0};<br />};<br /><br />template &lt;class T,class U&gt; &nbsp;<br />struct Length&lt;TypeList&lt;T,U&gt; &gt;<br />{<br />&nbsp;&nbsp; &nbsp;enum {value = 1 + Length&lt;U&gt;::value};<br />};<br /><br />//<br />// TypeAt<br />//<br />template &lt;class TList, unsigned int index&gt;&nbsp; struct TypeAt;<br /><br />template &lt;class Head, class Tail&gt;&nbsp; struct TypeAt&lt; TypeList&lt;Head,Tail&gt;,0 &gt;<br />{<br />&nbsp;&nbsp; &nbsp;typedef Head Result;<br />};<br /><br />template &lt;class Head, class Tail, unsigned int index&gt;&nbsp; struct TypeAt&lt; TypeList&lt;Head,Tail&gt;,index &gt;<br />{<br />&nbsp;&nbsp; &nbsp;typedef typename TypeAt&lt;Tail, index-1&gt;::Result Result;<br />};<br /><br />//<br />// IndexOf<br />//<br />template &lt;class TList, class T&gt;&nbsp; struct IndexOf;<br /><br />template &lt;class T&gt;&nbsp; struct IndexOf&lt; NullType, T &gt;<br />{<br />&nbsp;&nbsp; &nbsp;enum {value = -1};<br />};<br />template &lt;class T,class Tail&gt;&nbsp; struct IndexOf&lt; TypeList&lt;T, Tail&gt;, T &gt;<br />{<br />&nbsp;&nbsp; &nbsp;enum {value = 0};<br />};<br /><br />template &lt;class Head,class Tail, class T&gt;&nbsp; struct IndexOf&lt; TypeList&lt;Head, Tail&gt;, T &gt;<br />{<br />private:<br />&nbsp;&nbsp; &nbsp;enum { temp = IndexOf&lt;Tail,T&gt;::value };<br />public:<br />&nbsp;&nbsp; &nbsp;enum { value = temp==-1 ? -1 : 1 + temp};<br />};<br /><br /><br />//<br />// Append<br />//<br />template &lt;class TList, class T&gt;&nbsp; struct Append;<br /><br />//<br />// push_front<br />//<br />template &lt;class TList, class T&gt;&nbsp; struct push_front<br />{<br />&nbsp;&nbsp; &nbsp;typedef TypeList&lt;T, &gt;<br />};<br /><br />int main(int argc, char *argv[])<br />{<br />&nbsp;&nbsp; &nbsp;printf("Hello, world\n");<br /><br />&nbsp;&nbsp; &nbsp;typedef TYPELIST_3(int, float,char) MyTypeList;<br />&nbsp;&nbsp; &nbsp;printf("MyTypeList length %d\n", Length&lt;MyTypeList&gt;::value);<br /><br />&nbsp;&nbsp; &nbsp;printf("MyTypeList TypeAt 0 %s\n", typeid(TypeAt&lt;MyTypeList,0&gt;::Result).name());<br />&nbsp;&nbsp; &nbsp;printf("MyTypeList IndexOf&lt;int&gt; %d\n", IndexOf&lt;MyTypeList, float&gt;::value);<br /><br />&nbsp;&nbsp; &nbsp;return 0;<br />}<br /></div>