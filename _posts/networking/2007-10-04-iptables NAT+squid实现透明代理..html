<P>iptables 设置（NAT和ip限制，80转发,需要有ip文件<FONT color=#800000>ip2.txt</FONT>）：<BR></P>
<DIV style="BORDER-RIGHT: #cccccc 1px solid; PADDING-RIGHT: 5px; BORDER-TOP: #cccccc 1px solid; PADDING-LEFT: 4px; FONT-SIZE: 13px; PADDING-BOTTOM: 4px; BORDER-LEFT: #cccccc 1px solid; WIDTH: 98%; WORD-BREAK: break-all; PADDING-TOP: 4px; BORDER-BOTTOM: #cccccc 1px solid; BACKGROUND-COLOR: #eeeeee"><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top><SPAN style="COLOR: #000000">intra</SPAN><SPAN style="COLOR: #000000">=</SPAN><SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #800000">192.168.0.0/24</SPAN><SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #000000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>myip</SPAN><SPAN style="COLOR: #000000">=</SPAN><SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #800000">219.217.235.73</SPAN><SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #000000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>myDNS</SPAN><SPAN style="COLOR: #000000">=</SPAN><SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #800000">202.118.224.101:53</SPAN><SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #000000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>echo&nbsp;</SPAN><SPAN style="COLOR: #000000">1</SPAN><SPAN style="COLOR: #000000">&nbsp;</SPAN><SPAN style="COLOR: #000000">&gt;</SPAN><SPAN style="COLOR: #000000">&nbsp;</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">proc</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">sys</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">net</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">ipv4</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">ip_forward<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #008000">#</SPAN><SPAN style="COLOR: #008000">清空规则</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">sbin</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">iptables&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">F&nbsp;<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">sbin</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">iptables&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">t&nbsp;nat&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">F<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">sbin</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">iptables&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">P&nbsp;FORWARD&nbsp;DROP<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">sbin</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">iptables&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">P&nbsp;INPUT&nbsp;DROP<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">sbin</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">iptables&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">P&nbsp;OUTPUT&nbsp;DROP<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">sbin</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">iptables&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">A&nbsp;INPUT&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">i&nbsp;lo&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">j&nbsp;ACCEPT<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">sbin</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">iptables&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">A&nbsp;OUTPUT&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">o&nbsp;lo&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">j&nbsp;ACCEPT<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #008000">#</SPAN><SPAN style="COLOR: #008000">允许DNS</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #000000">iptables&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">A&nbsp;INPUT&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">i&nbsp;eth0&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">p&nbsp;udp&nbsp;</SPAN><SPAN style="COLOR: #000000">--</SPAN><SPAN style="COLOR: #000000">sport&nbsp;</SPAN><SPAN style="COLOR: #000000">53</SPAN><SPAN style="COLOR: #000000">&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">j&nbsp;ACCEPT&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN style="COLOR: #008000">#</SPAN><SPAN style="COLOR: #008000">允许外面53端口的UDP数据进来</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #000000">iptables&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">A&nbsp;PREROUTING&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">t&nbsp;nat&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">p&nbsp;udp&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">s&nbsp;$intra&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">d&nbsp;</SPAN><SPAN style="COLOR: #000000">192.168</SPAN><SPAN style="COLOR: #000000">.</SPAN><SPAN style="COLOR: #000000">0.1</SPAN><SPAN style="COLOR: #000000">&nbsp;</SPAN><SPAN style="COLOR: #000000">--</SPAN><SPAN style="COLOR: #000000">dport&nbsp;</SPAN><SPAN style="COLOR: #000000">53</SPAN><SPAN style="COLOR: #000000">&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">j&nbsp;DNAT&nbsp;</SPAN><SPAN style="COLOR: #000000">--</SPAN><SPAN style="COLOR: #000000">to</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">destination&nbsp;$myDNS&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN style="COLOR: #008000">#</SPAN><SPAN style="COLOR: #008000">允许局域网设置DNS为192.168.0.1</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #000000">iptables&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">A&nbsp;PREROUTING&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">t&nbsp;nat&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">p&nbsp;udp&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">s&nbsp;$intra&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">d&nbsp;$myip&nbsp;</SPAN><SPAN style="COLOR: #000000">--</SPAN><SPAN style="COLOR: #000000">dport&nbsp;</SPAN><SPAN style="COLOR: #000000">53</SPAN><SPAN style="COLOR: #000000">&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">j&nbsp;DNAT&nbsp;</SPAN><SPAN style="COLOR: #000000">--</SPAN><SPAN style="COLOR: #000000">to</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">destination&nbsp;$myDNS&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN style="COLOR: #008000">#</SPAN><SPAN style="COLOR: #008000">允许局域网设置DNS为$myip</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>#</SPAN><SPAN style="COLOR: #008000">iptables&nbsp;-A&nbsp;FORWARD&nbsp;-p&nbsp;udp&nbsp;-d&nbsp;202.118.224.101&nbsp;--dport&nbsp;!&nbsp;53&nbsp;-j&nbsp;DROP</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #000000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #008000">#</SPAN><SPAN style="COLOR: #008000">iptables&nbsp;-A&nbsp;OUTPUT&nbsp;&nbsp;-d&nbsp;$intra&nbsp;-j&nbsp;ACCEPT&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>#</SPAN><SPAN style="COLOR: #008000">允许局域网发出的所有消息，如果使用地址过滤，就要修改这里，或者修改squid的规则。。</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>#</SPAN><SPAN style="COLOR: #008000">以下为过滤收费ip</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #000000">fip</SPAN><SPAN style="COLOR: #000000">=</SPAN><SPAN style="COLOR: #000000">$(awk&nbsp;</SPAN><SPAN style="COLOR: #800000">'</SPAN><SPAN style="COLOR: #800000">NF&gt;2&nbsp;{print&nbsp;$1&nbsp;"/"&nbsp;$3}</SPAN><SPAN style="COLOR: #800000">' ip2.txt</SPAN><SPAN style="COLOR: #000000">)<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #0000ff">for</SPAN><SPAN style="COLOR: #000000">&nbsp;x&nbsp;</SPAN><SPAN style="COLOR: #0000ff">in</SPAN><SPAN style="COLOR: #000000">&nbsp;$fip<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>&nbsp;&nbsp;&nbsp;&nbsp;do<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN style="COLOR: #008000">#</SPAN><SPAN style="COLOR: #008000">允许连接免费IP段</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #000000">&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">sbin</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">iptables&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">A&nbsp;FORWARD&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">d&nbsp;$x&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">j&nbsp;ACCEPT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN style="COLOR: #008000">#</SPAN><SPAN style="COLOR: #008000">允许内网访问外面</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #000000">&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">sbin</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">iptables&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">A&nbsp;OUTPUT&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">d&nbsp;$x&nbsp;&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">j&nbsp;ACCEPT&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN style="COLOR: #008000">#</SPAN><SPAN style="COLOR: #008000">允许本机访问外面</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #000000">&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN style="COLOR: #008000">#</SPAN><SPAN style="COLOR: #008000">iptables&nbsp;-A&nbsp;OUTPUT&nbsp;&nbsp;-d&nbsp;$x&nbsp;-j&nbsp;ACCEPT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#不知道为什么这么也不行，局域网还是无法访问外网</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #000000">&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;$x<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>&nbsp;&nbsp;&nbsp;&nbsp;done<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #008000">#</SPAN><SPAN style="COLOR: #008000">允许外网访问里面</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">sbin</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">iptables&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">A&nbsp;FORWARD&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">i&nbsp;eth0&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">m&nbsp;state&nbsp;</SPAN><SPAN style="COLOR: #000000">--</SPAN><SPAN style="COLOR: #000000">state&nbsp;ESTABLISHED,RELATED&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">j&nbsp;ACCEPT<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #008000">#</SPAN><SPAN style="COLOR: #008000">允许外网访问本机</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">sbin</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">iptables&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">A&nbsp;INPUT&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">i&nbsp;eth0&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">m&nbsp;state&nbsp;</SPAN><SPAN style="COLOR: #000000">--</SPAN><SPAN style="COLOR: #000000">state&nbsp;ESTABLISHED,RELATED&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">j&nbsp;ACCEPT<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #008000">#</SPAN><SPAN style="COLOR: #008000">允许内网访问本机</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>#</SPAN><SPAN style="COLOR: #008000">/sbin/iptables&nbsp;-A&nbsp;INPUT&nbsp;-i&nbsp;eth1&nbsp;-s&nbsp;$intra&nbsp;-m&nbsp;state&nbsp;--state&nbsp;ESTABLISHED,RELATED&nbsp;-j&nbsp;ACCEPT</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>#</SPAN><SPAN style="COLOR: #008000">/sbin/iptables&nbsp;-A&nbsp;INPUT&nbsp;-i&nbsp;eth1&nbsp;-s&nbsp;$intra&nbsp;-p&nbsp;tcp&nbsp;--dport&nbsp;80&nbsp;-j&nbsp;ACCEPT</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">sbin</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">iptables&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">A&nbsp;INPUT&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">i&nbsp;eth1&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">s&nbsp;$intra&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">j&nbsp;ACCEPT<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #008000">#</SPAN><SPAN style="COLOR: #008000">允许本机访问内网</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">sbin</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">iptables&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">A&nbsp;OUTPUT&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">o&nbsp;eth1&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">d&nbsp;&nbsp;$intra&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">j&nbsp;ACCEPT<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #008000">#</SPAN><SPAN style="COLOR: #008000">iptables&nbsp;-A&nbsp;INPUT&nbsp;-i&nbsp;eth0&nbsp;-p&nbsp;udp&nbsp;&nbsp;-j&nbsp;ACCEPT&nbsp;&nbsp;&nbsp;&nbsp;#允许外面的UDP数据进来</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #000000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #008000">#</SPAN><SPAN style="COLOR: #008000">允许本机上网。。。如果专作服务器就可以不要</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>#</SPAN><SPAN style="COLOR: #008000">/sbin/iptables&nbsp;-A&nbsp;INPUT&nbsp;-d&nbsp;$myip&nbsp;&nbsp;-i&nbsp;eth0&nbsp;-m&nbsp;state&nbsp;--state&nbsp;ESTABLISHED,RELATED&nbsp;-j&nbsp;ACCEPT&nbsp;#允许外面访问</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>#</SPAN><SPAN style="COLOR: #008000">/sbin/iptables&nbsp;-A&nbsp;INPUT&nbsp;-d&nbsp;$myip&nbsp;&nbsp;-i&nbsp;eth0&nbsp;-m&nbsp;state&nbsp;--state&nbsp;ESTABLISHED,RELATED&nbsp;-j&nbsp;ACCEPT&nbsp;#允许里面访问</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>#</SPAN><SPAN style="COLOR: #008000">/sbin/iptables&nbsp;-A&nbsp;OUTPUT&nbsp;-d&nbsp;$intra&nbsp;&nbsp;-i&nbsp;eth0&nbsp;&nbsp;-j&nbsp;ACCEPT&nbsp;#允许访问内网</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #000000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #008000">#</SPAN><SPAN style="COLOR: #008000">实现NAT多电脑上网</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">sbin</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">iptables&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">t&nbsp;nat&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">A&nbsp;POSTROUTING&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">o&nbsp;eth0&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">s&nbsp;</SPAN><SPAN style="COLOR: #000000">192.168</SPAN><SPAN style="COLOR: #000000">.</SPAN><SPAN style="COLOR: #000000">0.0</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">24</SPAN><SPAN style="COLOR: #000000">&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">j&nbsp;SNAT&nbsp;</SPAN><SPAN style="COLOR: #000000">--</SPAN><SPAN style="COLOR: #000000">to&nbsp;</SPAN><SPAN style="COLOR: #000000">219.217</SPAN><SPAN style="COLOR: #000000">.</SPAN><SPAN style="COLOR: #000000">235.73</SPAN><SPAN style="COLOR: #000000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #008000">#</SPAN><SPAN style="COLOR: #008000">&nbsp;将&nbsp;对于&nbsp;80、443&nbsp;端口的访问&nbsp;重定向到&nbsp;3128&nbsp;端口&nbsp;&lt;/P&gt;&lt;P&gt;</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #000000">iptables&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">t&nbsp;nat&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">A&nbsp;PREROUTING&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">i&nbsp;eth1&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">p&nbsp;tcp&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">s&nbsp;</SPAN><SPAN style="COLOR: #000000">192.168</SPAN><SPAN style="COLOR: #000000">.</SPAN><SPAN style="COLOR: #000000">0.0</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">24</SPAN><SPAN style="COLOR: #000000">&nbsp;</SPAN><SPAN style="COLOR: #000000">--</SPAN><SPAN style="COLOR: #000000">dport&nbsp;</SPAN><SPAN style="COLOR: #000000">80</SPAN><SPAN style="COLOR: #000000">&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">j&nbsp;DNAT&nbsp;</SPAN><SPAN style="COLOR: #000000">--</SPAN><SPAN style="COLOR: #000000">to&nbsp;&nbsp;</SPAN><SPAN style="COLOR: #000000">192.168</SPAN><SPAN style="COLOR: #000000">.</SPAN><SPAN style="COLOR: #000000">0.1</SPAN><SPAN style="COLOR: #000000">:</SPAN><SPAN style="COLOR: #000000">3128</SPAN><SPAN style="COLOR: #000000">&nbsp;<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>iptables&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">t&nbsp;nat&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">A&nbsp;PREROUTING&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">i&nbsp;eth1&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">p&nbsp;tcp&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">s&nbsp;</SPAN><SPAN style="COLOR: #000000">192.168</SPAN><SPAN style="COLOR: #000000">.</SPAN><SPAN style="COLOR: #000000">0.0</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">24</SPAN><SPAN style="COLOR: #000000">&nbsp;</SPAN><SPAN style="COLOR: #000000">--</SPAN><SPAN style="COLOR: #000000">dport&nbsp;</SPAN><SPAN style="COLOR: #000000">443</SPAN><SPAN style="COLOR: #000000">&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">j&nbsp;DNAT&nbsp;</SPAN><SPAN style="COLOR: #000000">--</SPAN><SPAN style="COLOR: #000000">to&nbsp;</SPAN><SPAN style="COLOR: #000000">192.168</SPAN><SPAN style="COLOR: #000000">.</SPAN><SPAN style="COLOR: #000000">0.1</SPAN><SPAN style="COLOR: #000000">:</SPAN><SPAN style="COLOR: #000000">3128</SPAN><SPAN style="COLOR: #000000">&nbsp;<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN></DIV>
<P><BR><BR>squid设置：<BR>/etc/squid/squid.conf文件：（需要有ip列表文件<SPAN style="COLOR: #800000">/etc/squid/freeip_for_squid.txt,一行一个ip/mask</SPAN>）<BR></P>
<DIV style="BORDER-RIGHT: #cccccc 1px solid; PADDING-RIGHT: 5px; BORDER-TOP: #cccccc 1px solid; PADDING-LEFT: 4px; FONT-SIZE: 13px; PADDING-BOTTOM: 4px; BORDER-LEFT: #cccccc 1px solid; WIDTH: 98%; WORD-BREAK: break-all; PADDING-TOP: 4px; BORDER-BOTTOM: #cccccc 1px solid; BACKGROUND-COLOR: #eeeeee"><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top><SPAN style="COLOR: #000000">httpd_accel_host&nbsp;virtual<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>httpd_accel_port&nbsp;</SPAN><SPAN style="COLOR: #000000">80</SPAN><SPAN style="COLOR: #000000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>httpd_accel_with_proxy&nbsp;on<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>httpd_accel_uses_host_header&nbsp;on<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>cache_effective_user&nbsp;squid<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>cache_effective_group&nbsp;squid<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>visible_hostname&nbsp;hit405<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>acl&nbsp;all&nbsp;src&nbsp;</SPAN><SPAN style="COLOR: #000000">0.0</SPAN><SPAN style="COLOR: #000000">.</SPAN><SPAN style="COLOR: #000000">0.0</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">0.0</SPAN><SPAN style="COLOR: #000000">.</SPAN><SPAN style="COLOR: #000000">0.0</SPAN><SPAN style="COLOR: #000000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #008000">#</SPAN><SPAN style="COLOR: #008000">acl&nbsp;auth&nbsp;proxy_auth&nbsp;REQUIRED</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>#</SPAN><SPAN style="COLOR: #008000">acl&nbsp;our&nbsp;src&nbsp;192.168.0.0/255.255.255.0</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>#</SPAN><SPAN style="COLOR: #008000">http_access&nbsp;allow&nbsp;our</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>#</SPAN><SPAN style="COLOR: #008000">http_access&nbsp;allow&nbsp;&nbsp;auth&nbsp;!our&nbsp;#这句话那里不对？？</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #000000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #008000">#</SPAN><SPAN style="COLOR: #008000">第一种配置，访问国外时显示错误</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>#</SPAN><SPAN style="COLOR: #008000">#################################################################</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #000000">acl&nbsp;freeip1&nbsp;dst&nbsp;</SPAN><SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #800000">/etc/squid/freeip_for_squid.txt</SPAN><SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #000000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>http_access&nbsp;allow&nbsp;freeip1<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>http_access&nbsp;deny&nbsp;all<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #008000">#</SPAN><SPAN style="COLOR: #008000">###################################################################################################################################</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #000000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #008000">#</SPAN><SPAN style="COLOR: #008000">第二种配置，访问国外时使用二级代理(有些问题！！)</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>#</SPAN><SPAN style="COLOR: #008000">###################################################################################################################################</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>#</SPAN><SPAN style="COLOR: #008000">acl&nbsp;freeip1&nbsp;dst&nbsp;"/etc/squid/freeip_for_squid.txt"</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>#</SPAN><SPAN style="COLOR: #008000">cache_peer&nbsp;219.232.9.181&nbsp;parent&nbsp;80&nbsp;0&nbsp;no-query&nbsp;no-digest&nbsp;no-netdb-exchange</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>#</SPAN><SPAN style="COLOR: #008000">cache_peer_access&nbsp;&nbsp;219.232.9.181&nbsp;allow&nbsp;!freeip1</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>#</SPAN><SPAN style="COLOR: #008000">cache_peer_access&nbsp;&nbsp;219.232.9.181&nbsp;deny&nbsp;freeip1</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>#<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>#</SPAN><SPAN style="COLOR: #008000">always_direct&nbsp;deny&nbsp;!freeip1</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>#</SPAN><SPAN style="COLOR: #008000">always_direct&nbsp;allow&nbsp;freeip1</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>#<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>#</SPAN><SPAN style="COLOR: #008000">never_direct&nbsp;allow&nbsp;!freeip1</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>#</SPAN><SPAN style="COLOR: #008000">never_direct&nbsp;deny&nbsp;&nbsp;freeip1</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>#</SPAN><SPAN style="COLOR: #008000">http_access&nbsp;allow&nbsp;all</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>#</SPAN><SPAN style="COLOR: #008000">###################################################################################################################################</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #000000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>cache_dir&nbsp;ufs&nbsp;</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">var</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">spool</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">squid&nbsp;</SPAN><SPAN style="COLOR: #000000">100</SPAN><SPAN style="COLOR: #000000">&nbsp;</SPAN><SPAN style="COLOR: #000000">16</SPAN><SPAN style="COLOR: #000000">&nbsp;</SPAN><SPAN style="COLOR: #000000">256</SPAN><SPAN style="COLOR: #000000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN></DIV>
<P>执行以下命令启动squid<BR></P>
<DIV style="BORDER-RIGHT: #cccccc 1px solid; PADDING-RIGHT: 5px; BORDER-TOP: #cccccc 1px solid; PADDING-LEFT: 4px; FONT-SIZE: 13px; PADDING-BOTTOM: 4px; BORDER-LEFT: #cccccc 1px solid; WIDTH: 98%; WORD-BREAK: break-all; PADDING-TOP: 4px; BORDER-BOTTOM: #cccccc 1px solid; BACKGROUND-COLOR: #eeeeee"><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top><SPAN style="COLOR: #000000">mkdir&nbsp;&nbsp;</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">var</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">spool</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">squid&nbsp;<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>useradd&nbsp;squid<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>chown&nbsp;squid&nbsp;</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">var</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">spool</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">squid&nbsp;<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>chown&nbsp;squid&nbsp;</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">var</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">log</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">squid</SPAN><SPAN style="COLOR: #000000">/</SPAN><SPAN style="COLOR: #000000">access.log<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #008000">#</SPAN><SPAN style="COLOR: #008000">cp&nbsp;ERR_ACCESS_DENIED&nbsp;/usr/share/squid/errors/English</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>#</SPAN><SPAN style="COLOR: #008000">rm&nbsp;-f&nbsp;./access.log</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>#</SPAN><SPAN style="COLOR: #008000">ln&nbsp;/var/log/squid/access.log&nbsp;./</SPAN><SPAN style="COLOR: #008000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #000000">echo&nbsp;</SPAN><SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #800000"><IMG src="https://www.cnblogs.com/images/dot.gif"><IMG src="https://www.cnblogs.com/images/dot.gif"><IMG src="https://www.cnblogs.com/images/dot.gif"><IMG src="https://www.cnblogs.com/images/dot.gif">..restart&nbsp;</SPAN><SPAN style="COLOR: #800000"><BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN><SPAN style="COLOR: #000000">squid&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">k&nbsp;reconfigure<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>squid&nbsp;</SPAN><SPAN style="COLOR: #000000">-</SPAN><SPAN style="COLOR: #000000">z<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top>squid<BR><IMG src="https://www.cnblogs.com/images/OutliningIndicators/None.gif" align=top></SPAN></DIV>