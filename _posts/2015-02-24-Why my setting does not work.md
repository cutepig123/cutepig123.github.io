<p>lab&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;mypc&nbsp;&nbsp; &nbsp;&nbsp; server<br />7000&nbsp;&nbsp; &nbsp;-&gt;&nbsp; 5900 <br />1080&nbsp;&nbsp; &nbsp;-&gt;&nbsp; 10800<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; 10800 -&gt; internet<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;15900 -&gt; 5900<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;22 -&gt; github:22<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br />rinitd runs at lab pc<br />1081 -&gt; 1080<br />17000 -&gt; 7000<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br />test<br /><br />pcx --VNC-&gt; lab:17000 to connect mypc &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;ok<br /><br />&nbsp;pcx: VNC connect lab:17000&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;VNC client protocal<br />&nbsp;lab: rinitd redirect 17000 to 7000&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;rinitd tunnel<br />&nbsp;lab: 7000 redirect via ssh tunnel to mypc:5900 &nbsp;&nbsp; &nbsp;ssh tunnel<br />&nbsp;mypc: 5900 is VNC server&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;VNC server&nbsp; protocal<br />&nbsp;<br />lab --firefox (using socks 1080) to access internet&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;ok<br />&nbsp;lab: firefox connect to lab:1080&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;socks client protocal<br />&nbsp;lab: 1080 redirect via ssh tunnel to mypc:10800&nbsp;&nbsp; &nbsp;ssh tunnel<br />&nbsp;mypc: 10800 is socks server&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;socks server protocal<br />&nbsp;&nbsp; &nbsp;&nbsp; putty decode socks request and redirect data to myhome via ssh tunnel<br />&nbsp;<br /><strong>lab --firefox (using socks 10800) to access internet&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;fail</strong><br />&nbsp; lab: firefox connect to lab:10800&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;socks client protocal<br />&nbsp; lab: 10800 is redirected to lab:1080 via rinetd&nbsp;&nbsp; &nbsp;rinitd tunnel<br />&nbsp;lab: 1080 redirect via ssh tunnel to mypc:10800&nbsp;&nbsp; &nbsp;ssh tunnel<br />&nbsp;mypc: 10800 is socks server&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;socks server protocal<br />&nbsp;&nbsp; &nbsp;&nbsp; putty decode socks request and redirect data to myhome via ssh tunnel</p>