---
categories: vision
---
这篇论文是讲风景图片去雾的, 主要特点是方法简单, 而效果却不错<br />在作者主页那里有论文原文, 还有一个ppt不错:<br />http://personal.ie.cuhk.edu.hk/~hkm007/cvpr09/cvpr09slides.pdf<br />看完ppt,我写过一个简单的matlab实现, 其中的soft matting优化没写, 谁有兴趣写一个共享一下哈..<br />贴代码吧, 很简单滴..., 如有理解上的错误和bug, 欢迎指正..<br />clear<br />clc<br />close all<br />kenlRatio = .01;<br />image_name = '18.jpg';<br />img=imread(image_name);<br />sz=size(img);<br />w=sz(2);<br />h=sz(1);<br />dc = zeros(h,w);<br />for y=1:h<br />&nbsp;&nbsp;&nbsp; for x=1:w<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dc(y,x) = min(img(y,x,:));<br />&nbsp;&nbsp;&nbsp; end<br />end<br /><br />figure, title('src')<br />imshow(uint8(img))<br /><br />figure, title('Min(R,G,B)')<br />imshow(uint8(dc))<br /><br />krnlsz = floor(max([3, w*kenlRatio, h*kenlRatio]))<br />dc2 = minfilt2(dc, [krnlsz,krnlsz]);<br />dc2(h,w)=0;<br />&nbsp;&nbsp; &nbsp;<br />figure, title('After filter ')<br />imshow(uint8(dc2))<br /><br />t = 255 - dc2;<br />figure, title('t')<br />imshow(uint8(t))<br />t_d=double(t)/255;<br /><br />A = min([240, max(max(dc2))]) <br /><br />J = zeros(h,w,3);<br />img_d = double(img);<br />J(:,:,1) = (img_d(:,:,1) - (1-t_d)*A)./t_d;<br />J(:,:,2) = (img_d(:,:,2) - (1-t_d)*A)./t_d;<br />J(:,:,3) = (img_d(:,:,3) - (1-t_d)*A)./t_d;<br />figure, title('J')<br />imshow(uint8(J))<br />imwrite(uint8(J), ['_', image_name])<br /><br />上几张图把, 感觉我的这个实现效果不大好......<br /><img alt="" src="http://images.cnblogs.com/cnblogs_com/cutepig/14.jpg" width="640" height="480" /><br />原图<br /><img alt="" src="http://images.cnblogs.com/cnblogs_com/cutepig/_14.jpg" width="640" height="480" /><br />增强后的图, 简直是"水变油"...囧