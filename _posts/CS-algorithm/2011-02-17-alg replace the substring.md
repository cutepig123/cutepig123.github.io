---
categories: CS-algorithm
---
<div>#include &lt;string&gt;<br />#include &lt;iostream&gt;<br /><br />//replace the substring l to r for source string s, and put result in d<br />void replace(const std::string&amp; s,const std::string&amp; l,const std::string&amp; r,std::string&amp; d)<br />{<br />&nbsp;&nbsp; &nbsp;size_t i=0, n=s.length(), nl=l.length(); <br />&nbsp;&nbsp; &nbsp;while( 1 )<br />&nbsp;&nbsp; &nbsp;{<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;size_t pos = s.find_first_of(l,i);<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if(std::string::npos==pos)<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;d += s.substr(i);<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;break;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;else<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if(pos-i&gt;0)<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;d += s.substr(i,pos-i);<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;d += r;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;i = pos + nl;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br />&nbsp;&nbsp; &nbsp;}<br />}<br /><br />void main()<br />{<br />&nbsp;&nbsp; &nbsp;std::string d;<br />&nbsp;&nbsp; &nbsp;replace("ddwv", "def", "_", d);<br />&nbsp;&nbsp; &nbsp;std::cout&lt;&lt;d;<br />}<br /></div>