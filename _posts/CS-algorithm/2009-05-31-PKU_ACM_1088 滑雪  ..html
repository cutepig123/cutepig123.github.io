滑雪&nbsp; <br />Time&nbsp;Limit:1000MS&nbsp;&nbsp;Memory&nbsp;Limit:65536K <br />Total&nbsp;Submit:6256&nbsp;Accepted:1796&nbsp; <br /> <br />Description <br />Michael喜欢滑雪百这并不奇怪，&nbsp;因为滑雪的确很刺激。可是为了获得速度，滑的区域必须向下倾斜，而且当你滑到坡底，你不得不再次走上坡或 者等待升降机来载你。Michael想知道载一个区域中最长底滑坡。区域由一个二维数组给出。数组的每个数字代表点的高度。下面是一个例子&nbsp; <br /> <br /> <br />&nbsp;1&nbsp;&nbsp;2&nbsp;&nbsp;3&nbsp;&nbsp;4&nbsp;5 <br />16&nbsp;17&nbsp;18&nbsp;19&nbsp;6 <br />15&nbsp;24&nbsp;25&nbsp;20&nbsp;7 <br />14&nbsp;23&nbsp;22&nbsp;21&nbsp;8 <br />13&nbsp;12&nbsp;11&nbsp;10&nbsp;9 <br /> <br />一个人可以从某个点滑向上下左右相邻四个点之一，当且仅当高度减小。在上面的例子中，一条可滑行的滑坡为24-17-16-1。当然25-24-23-...-3-2-1更长。事实上，这是最长的一条。 <br /> <br />Input <br />输入的第一行表示区域的行数R和列数C(1&nbsp;&lt;=&nbsp;R,C&nbsp;&lt;=&nbsp;100)。下面是R行，每行有C个整数，代表高度h，0&lt;=h&lt;=10000。 <br /> <br />Output <br />输出最长区域的长度。 <br /> <br />Sample&nbsp;Input <br /> <br /> <br />5&nbsp;5 <br />1&nbsp;2&nbsp;3&nbsp;4&nbsp;5 <br />16&nbsp;17&nbsp;18&nbsp;19&nbsp;6 <br />15&nbsp;24&nbsp;25&nbsp;20&nbsp;7 <br />14&nbsp;23&nbsp;22&nbsp;21&nbsp;8 <br />13&nbsp;12&nbsp;11&nbsp;10&nbsp;9 <br /> <br /> <br />Sample&nbsp;Output <br /> <br /> <br /><p>25 </p><p>&nbsp;</p><p>分析:</p><p>用回溯法,思路还是比较简单地,<span style="color: red;">但是会超时</span>,不知道有什么其他的办法<br /></p><p>for each 可能的start point:<br /></p><p>&nbsp;&nbsp; 从该点回溯分析最长的下降路径</p><p>代码如下</p><div class="cnblogs_code"><!--<br /><br />Code highlighting produced by Actipro CodeHighlighter (freeware)<br />http://www.CodeHighlighter.com/<br /><br />--><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" /><span style="color: #000000;">#include&nbsp;</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">stdio.h</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" />#include&nbsp;</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">stdlib.h</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" />#include&nbsp;</span><span style="color: #000000;">&lt;</span><span style="color: #0000ff;">string</span><span style="color: #000000;">.h</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" />#include&nbsp;</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">vector</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" />#include&nbsp;</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">assert.h</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" />#include&nbsp;</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">math.h</span><span style="color: #000000;">&gt;</span><span style="color: #000000;"><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" /><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" /></span><span style="color: #0000ff;">using</span><span style="color: #000000;">&nbsp;</span><span style="color: #0000ff;">namespace</span><span style="color: #000000;">&nbsp;std;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" /><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" /></span><span style="color: #008000;">//</span><span style="color: #008000;">#define&nbsp;PI&nbsp;3.1415926<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" /></span><span style="color: #008000;">//</span><span style="color: #008000;">#define&nbsp;DBG&nbsp;</span><span style="color: #008000;"><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" /></span><span style="color: #000000;"><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" /></span><span style="color: #0000ff;">namespace</span><span style="color: #000000;">&nbsp;Baidu09_3<br /><img id="Codehighlighter1_197_1536_Open_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockStart.gif" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_197_1536_Open_Text').style.display='none'; document.getElementById('Codehighlighter1_197_1536_Closed_Image').style.display='inline'; document.getElementById('Codehighlighter1_197_1536_Closed_Text').style.display='inline';" align="top"><img id="Codehighlighter1_197_1536_Closed_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedBlock.gif" style="display: none;" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_197_1536_Closed_Text').style.display='none'; document.getElementById('Codehighlighter1_197_1536_Open_Image').style.display='inline'; document.getElementById('Codehighlighter1_197_1536_Open_Text').style.display='inline';" align="top"></span><span id="Codehighlighter1_197_1536_Closed_Text" style="border: 1px solid #808080; background-color: #ffffff; display: none;"><img src="http://www.cnblogs.com/Images/dot.gif" alt="" /></span><span id="Codehighlighter1_197_1536_Open_Text"><span style="color: #000000;">{<br /><img id="Codehighlighter1_210_231_Open_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_210_231_Open_Text').style.display='none'; document.getElementById('Codehighlighter1_210_231_Closed_Image').style.display='inline'; document.getElementById('Codehighlighter1_210_231_Closed_Text').style.display='inline';" align="top"><img id="Codehighlighter1_210_231_Closed_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedSubBlock.gif" style="display: none;" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_210_231_Closed_Text').style.display='none'; document.getElementById('Codehighlighter1_210_231_Open_Image').style.display='inline'; document.getElementById('Codehighlighter1_210_231_Open_Text').style.display='inline';" align="top">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">struct</span><span style="color: #000000;">&nbsp;Row</span><span id="Codehighlighter1_210_231_Closed_Text" style="border: 1px solid #808080; background-color: #ffffff; display: none;"><img src="http://www.cnblogs.com/Images/dot.gif" alt="" /></span><span id="Codehighlighter1_210_231_Open_Text"><span style="color: #000000;">{<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;data[</span><span style="color: #800080;">100</span><span style="color: #000000;">];<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color: #000000;">;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;vector&nbsp;</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">Row</span><span style="color: #000000;">&gt;</span><span style="color: #000000;">&nbsp;vGraph;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img id="Codehighlighter1_268_299_Open_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_268_299_Open_Text').style.display='none'; document.getElementById('Codehighlighter1_268_299_Closed_Image').style.display='inline'; document.getElementById('Codehighlighter1_268_299_Closed_Text').style.display='inline';" align="top"><img id="Codehighlighter1_268_299_Closed_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedSubBlock.gif" style="display: none;" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_268_299_Closed_Text').style.display='none'; document.getElementById('Codehighlighter1_268_299_Open_Image').style.display='inline'; document.getElementById('Codehighlighter1_268_299_Open_Text').style.display='inline';" align="top">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">struct</span><span style="color: #000000;">&nbsp;Path</span><span id="Codehighlighter1_268_299_Closed_Text" style="border: 1px solid #808080; background-color: #ffffff; display: none;"><img src="http://www.cnblogs.com/Images/dot.gif" alt="" /></span><span id="Codehighlighter1_268_299_Open_Text"><span style="color: #000000;">{<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;r;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;c;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;h;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color: #000000;">;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;vector&nbsp;</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">Path</span><span style="color: #000000;">&gt;</span><span style="color: #000000;">&nbsp;&nbsp;vPath;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;vector&nbsp;</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">Path</span><span style="color: #000000;">&gt;</span><span style="color: #000000;">&nbsp;&nbsp;vPathMax;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">void</span><span style="color: #000000;">&nbsp;Test(vector&nbsp;</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">Row</span><span style="color: #000000;">&gt;</span><span style="color: #000000;">&nbsp;</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">vGraph,&nbsp;</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;R,&nbsp;</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;C,&nbsp;</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;r,&nbsp;</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;c)<br /><img id="Codehighlighter1_414_1014_Open_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_414_1014_Open_Text').style.display='none'; document.getElementById('Codehighlighter1_414_1014_Closed_Image').style.display='inline'; document.getElementById('Codehighlighter1_414_1014_Closed_Text').style.display='inline';" align="top"><img id="Codehighlighter1_414_1014_Closed_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedSubBlock.gif" style="display: none;" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_414_1014_Closed_Text').style.display='none'; document.getElementById('Codehighlighter1_414_1014_Open_Image').style.display='inline'; document.getElementById('Codehighlighter1_414_1014_Open_Text').style.display='inline';" align="top">&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="Codehighlighter1_414_1014_Closed_Text" style="border: 1px solid #808080; background-color: #ffffff; display: none;"><img src="http://www.cnblogs.com/Images/dot.gif" alt="" /></span><span id="Codehighlighter1_414_1014_Open_Text"><span style="color: #000000;">{<br /><img id="Codehighlighter1_432_479_Open_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_432_479_Open_Text').style.display='none'; document.getElementById('Codehighlighter1_432_479_Closed_Image').style.display='inline'; document.getElementById('Codehighlighter1_432_479_Closed_Text').style.display='inline';" align="top"><img id="Codehighlighter1_432_479_Closed_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedSubBlock.gif" style="display: none;" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_432_479_Closed_Text').style.display='none'; document.getElementById('Codehighlighter1_432_479_Open_Image').style.display='inline'; document.getElementById('Codehighlighter1_432_479_Open_Text').style.display='inline';" align="top">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;dir[</span><span style="color: #800080;">4</span><span style="color: #000000;">][</span><span style="color: #800080;">2</span><span style="color: #000000;">]</span><span style="color: #000000;">=</span><span id="Codehighlighter1_432_479_Closed_Text" style="border: 1px solid #808080; background-color: #ffffff; display: none;"><img src="http://www.cnblogs.com/Images/dot.gif" alt="" /></span><span id="Codehighlighter1_432_479_Open_Text"><span style="color: #000000;">{<br /><img id="Codehighlighter1_437_442_Open_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_437_442_Open_Text').style.display='none'; document.getElementById('Codehighlighter1_437_442_Closed_Image').style.display='inline'; document.getElementById('Codehighlighter1_437_442_Closed_Text').style.display='inline';" align="top"><img id="Codehighlighter1_437_442_Closed_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedSubBlock.gif" style="display: none;" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_437_442_Closed_Text').style.display='none'; document.getElementById('Codehighlighter1_437_442_Open_Image').style.display='inline'; document.getElementById('Codehighlighter1_437_442_Open_Text').style.display='inline';" align="top">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="Codehighlighter1_437_442_Closed_Text" style="border: 1px solid #808080; background-color: #ffffff; display: none;"><img src="http://www.cnblogs.com/Images/dot.gif" alt="" /></span><span id="Codehighlighter1_437_442_Open_Text"><span style="color: #000000;">{</span><span style="color: #800080;">0</span><span style="color: #000000;">,</span><span style="color: #800080;">1</span><span style="color: #000000;">}</span></span><span style="color: #000000;">,<br /><img id="Codehighlighter1_447_453_Open_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_447_453_Open_Text').style.display='none'; document.getElementById('Codehighlighter1_447_453_Closed_Image').style.display='inline'; document.getElementById('Codehighlighter1_447_453_Closed_Text').style.display='inline';" align="top"><img id="Codehighlighter1_447_453_Closed_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedSubBlock.gif" style="display: none;" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_447_453_Closed_Text').style.display='none'; document.getElementById('Codehighlighter1_447_453_Open_Image').style.display='inline'; document.getElementById('Codehighlighter1_447_453_Open_Text').style.display='inline';" align="top">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="Codehighlighter1_447_453_Closed_Text" style="border: 1px solid #808080; background-color: #ffffff; display: none;"><img src="http://www.cnblogs.com/Images/dot.gif" alt="" /></span><span id="Codehighlighter1_447_453_Open_Text"><span style="color: #000000;">{</span><span style="color: #800080;">0</span><span style="color: #000000;">,</span><span style="color: #000000;">-</span><span style="color: #800080;">1</span><span style="color: #000000;">}</span></span><span style="color: #000000;">,<br /><img id="Codehighlighter1_458_463_Open_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_458_463_Open_Text').style.display='none'; document.getElementById('Codehighlighter1_458_463_Closed_Image').style.display='inline'; document.getElementById('Codehighlighter1_458_463_Closed_Text').style.display='inline';" align="top"><img id="Codehighlighter1_458_463_Closed_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedSubBlock.gif" style="display: none;" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_458_463_Closed_Text').style.display='none'; document.getElementById('Codehighlighter1_458_463_Open_Image').style.display='inline'; document.getElementById('Codehighlighter1_458_463_Open_Text').style.display='inline';" align="top">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="Codehighlighter1_458_463_Closed_Text" style="border: 1px solid #808080; background-color: #ffffff; display: none;"><img src="http://www.cnblogs.com/Images/dot.gif" alt="" /></span><span id="Codehighlighter1_458_463_Open_Text"><span style="color: #000000;">{</span><span style="color: #800080;">1</span><span style="color: #000000;">,</span><span style="color: #800080;">0</span><span style="color: #000000;">}</span></span><span style="color: #000000;">,<br /><img id="Codehighlighter1_468_474_Open_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_468_474_Open_Text').style.display='none'; document.getElementById('Codehighlighter1_468_474_Closed_Image').style.display='inline'; document.getElementById('Codehighlighter1_468_474_Closed_Text').style.display='inline';" align="top"><img id="Codehighlighter1_468_474_Closed_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedSubBlock.gif" style="display: none;" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_468_474_Closed_Text').style.display='none'; document.getElementById('Codehighlighter1_468_474_Open_Image').style.display='inline'; document.getElementById('Codehighlighter1_468_474_Open_Text').style.display='inline';" align="top">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="Codehighlighter1_468_474_Closed_Text" style="border: 1px solid #808080; background-color: #ffffff; display: none;"><img src="http://www.cnblogs.com/Images/dot.gif" alt="" /></span><span id="Codehighlighter1_468_474_Open_Text"><span style="color: #000000;">{</span><span style="color: #000000;">-</span><span style="color: #800080;">1</span><span style="color: #000000;">,</span><span style="color: #800080;">0</span><span style="color: #000000;">}</span></span><span style="color: #000000;">,<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color: #000000;">;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">bool</span><span style="color: #000000;">&nbsp;canGo&nbsp;</span><span style="color: #000000;">=</span><span style="color: #0000ff;">false</span><span style="color: #000000;">;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">for</span><span style="color: #000000;">&nbsp;(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;i</span><span style="color: #000000;">=</span><span style="color: #800080;">0</span><span style="color: #000000;">;&nbsp;i</span><span style="color: #000000;">&lt;</span><span style="color: #800080;">4</span><span style="color: #000000;">;&nbsp;i</span><span style="color: #000000;">++</span><span style="color: #000000;">)<br /><img id="Codehighlighter1_531_816_Open_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_531_816_Open_Text').style.display='none'; document.getElementById('Codehighlighter1_531_816_Closed_Image').style.display='inline'; document.getElementById('Codehighlighter1_531_816_Closed_Text').style.display='inline';" align="top"><img id="Codehighlighter1_531_816_Closed_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedSubBlock.gif" style="display: none;" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_531_816_Closed_Text').style.display='none'; document.getElementById('Codehighlighter1_531_816_Open_Image').style.display='inline'; document.getElementById('Codehighlighter1_531_816_Open_Text').style.display='inline';" align="top">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="Codehighlighter1_531_816_Closed_Text" style="border: 1px solid #808080; background-color: #ffffff; display: none;"><img src="http://www.cnblogs.com/Images/dot.gif" alt="" /></span><span id="Codehighlighter1_531_816_Open_Text"><span style="color: #000000;">{<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;r1</span><span style="color: #000000;">=</span><span style="color: #000000;">r</span><span style="color: #000000;">+</span><span style="color: #000000;">dir[i][</span><span style="color: #800080;">0</span><span style="color: #000000;">];<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;c1</span><span style="color: #000000;">=</span><span style="color: #000000;">c</span><span style="color: #000000;">+</span><span style="color: #000000;">dir[i][</span><span style="color: #800080;">1</span><span style="color: #000000;">];<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">if</span><span style="color: #000000;">(r1</span><span style="color: #000000;">&gt;=</span><span style="color: #800080;">0</span><span style="color: #000000;">&nbsp;</span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;">&nbsp;r1</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">R&nbsp;</span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;">&nbsp;c1</span><span style="color: #000000;">&gt;=</span><span style="color: #800080;">0</span><span style="color: #000000;">&nbsp;</span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;">&nbsp;c1</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">C&nbsp;</span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;">&nbsp;vGraph[r1].data[c1]</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">vGraph[r].data[c])<br /><img id="Codehighlighter1_662_812_Open_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_662_812_Open_Text').style.display='none'; document.getElementById('Codehighlighter1_662_812_Closed_Image').style.display='inline'; document.getElementById('Codehighlighter1_662_812_Closed_Text').style.display='inline';" align="top"><img id="Codehighlighter1_662_812_Closed_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedSubBlock.gif" style="display: none;" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_662_812_Closed_Text').style.display='none'; document.getElementById('Codehighlighter1_662_812_Open_Image').style.display='inline'; document.getElementById('Codehighlighter1_662_812_Open_Text').style.display='inline';" align="top">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="Codehighlighter1_662_812_Closed_Text" style="border: 1px solid #808080; background-color: #ffffff; display: none;"><img src="http://www.cnblogs.com/Images/dot.gif" alt="" /></span><span id="Codehighlighter1_662_812_Open_Text"><span style="color: #000000;">{<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;canGo&nbsp;</span><span style="color: #000000;">=</span><span style="color: #000000;">&nbsp;</span><span style="color: #0000ff;">true</span><span style="color: #000000;">;<br /><img id="Codehighlighter1_698_727_Open_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_698_727_Open_Text').style.display='none'; document.getElementById('Codehighlighter1_698_727_Closed_Image').style.display='inline'; document.getElementById('Codehighlighter1_698_727_Closed_Text').style.display='inline';" align="top"><img id="Codehighlighter1_698_727_Closed_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedSubBlock.gif" style="display: none;" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_698_727_Closed_Text').style.display='none'; document.getElementById('Codehighlighter1_698_727_Open_Image').style.display='inline'; document.getElementById('Codehighlighter1_698_727_Open_Text').style.display='inline';" align="top">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Path&nbsp;path&nbsp;</span><span style="color: #000000;">=</span><span style="color: #000000;">&nbsp;</span><span id="Codehighlighter1_698_727_Closed_Text" style="border: 1px solid #808080; background-color: #ffffff; display: none;"><img src="http://www.cnblogs.com/Images/dot.gif" alt="" /></span><span id="Codehighlighter1_698_727_Open_Text"><span style="color: #000000;">{r1,&nbsp;c1,&nbsp;vGraph[r1].data[c1]}</span></span><span style="color: #000000;">;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vPath.push_back(path);<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Test(vGraph,R,C,r1,c1);<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vPath.pop_back();<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color: #000000;"><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color: #000000;"><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">if</span><span style="color: #000000;">(</span><span style="color: #000000;">!</span><span style="color: #000000;">canGo)<br /><img id="Codehighlighter1_833_1011_Open_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_833_1011_Open_Text').style.display='none'; document.getElementById('Codehighlighter1_833_1011_Closed_Image').style.display='inline'; document.getElementById('Codehighlighter1_833_1011_Closed_Text').style.display='inline';" align="top"><img id="Codehighlighter1_833_1011_Closed_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedSubBlock.gif" style="display: none;" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_833_1011_Closed_Text').style.display='none'; document.getElementById('Codehighlighter1_833_1011_Open_Image').style.display='inline'; document.getElementById('Codehighlighter1_833_1011_Open_Text').style.display='inline';" align="top">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="Codehighlighter1_833_1011_Closed_Text" style="border: 1px solid #808080; background-color: #ffffff; display: none;"><img src="http://www.cnblogs.com/Images/dot.gif" alt="" /></span><span id="Codehighlighter1_833_1011_Open_Text"><span style="color: #000000;">{<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">if</span><span style="color: #000000;">(vPathMax.size()</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">vPath.size())<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vPathMax&nbsp;</span><span style="color: #000000;">=</span><span style="color: #000000;">&nbsp;vPath;<br /><img id="Codehighlighter1_896_1007_Open_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_896_1007_Open_Text').style.display='none'; document.getElementById('Codehighlighter1_896_1007_Closed_Image').style.display='inline'; document.getElementById('Codehighlighter1_896_1007_Closed_Text').style.display='inline';" align="top"><img id="Codehighlighter1_896_1007_Closed_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedSubBlock.gif" style="display: none;" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_896_1007_Closed_Text').style.display='none'; document.getElementById('Codehighlighter1_896_1007_Open_Image').style.display='inline'; document.getElementById('Codehighlighter1_896_1007_Open_Text').style.display='inline';" align="top">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="Codehighlighter1_896_1007_Closed_Text" style="border: 1px solid #808080; background-color: #ffffff; display: none;">/**/</span><span id="Codehighlighter1_896_1007_Open_Text"><span style="color: #008000;">/*</span><span style="color: #008000;">printf("\n----%d\n",vPath.size());<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(size_t&nbsp;i=0;&nbsp;i&lt;vPath.size();&nbsp;i++)<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf("%d&nbsp;",&nbsp;vPath[i].h);</span><span style="color: #008000;">*/</span></span><span style="color: #000000;"><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color: #000000;"><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color: #000000;"><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;main()<br /><img id="Codehighlighter1_1029_1534_Open_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_1029_1534_Open_Text').style.display='none'; document.getElementById('Codehighlighter1_1029_1534_Closed_Image').style.display='inline'; document.getElementById('Codehighlighter1_1029_1534_Closed_Text').style.display='inline';" align="top"><img id="Codehighlighter1_1029_1534_Closed_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedSubBlock.gif" style="display: none;" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_1029_1534_Closed_Text').style.display='none'; document.getElementById('Codehighlighter1_1029_1534_Open_Image').style.display='inline'; document.getElementById('Codehighlighter1_1029_1534_Open_Text').style.display='inline';" align="top">&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="Codehighlighter1_1029_1534_Closed_Text" style="border: 1px solid #808080; background-color: #ffffff; display: none;"><img src="http://www.cnblogs.com/Images/dot.gif" alt="" /></span><span id="Codehighlighter1_1029_1534_Open_Text"><span style="color: #000000;">{<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;R,C;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d%d</span><span style="color: #800000;">"</span><span style="color: #000000;">,&nbsp;</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">R,&nbsp;</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">C);<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vGraph.reserve(R);<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;i</span><span style="color: #000000;">=</span><span style="color: #800080;">0</span><span style="color: #000000;">;&nbsp;i</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">R;&nbsp;i</span><span style="color: #000000;">++</span><span style="color: #000000;">)<br /><img id="Codehighlighter1_1118_1220_Open_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_1118_1220_Open_Text').style.display='none'; document.getElementById('Codehighlighter1_1118_1220_Closed_Image').style.display='inline'; document.getElementById('Codehighlighter1_1118_1220_Closed_Text').style.display='inline';" align="top"><img id="Codehighlighter1_1118_1220_Closed_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedSubBlock.gif" style="display: none;" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_1118_1220_Closed_Text').style.display='none'; document.getElementById('Codehighlighter1_1118_1220_Open_Image').style.display='inline'; document.getElementById('Codehighlighter1_1118_1220_Open_Text').style.display='inline';" align="top">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="Codehighlighter1_1118_1220_Closed_Text" style="border: 1px solid #808080; background-color: #ffffff; display: none;"><img src="http://www.cnblogs.com/Images/dot.gif" alt="" /></span><span id="Codehighlighter1_1118_1220_Open_Text"><span style="color: #000000;">{<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Row&nbsp;row;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;j</span><span style="color: #000000;">=</span><span style="color: #800080;">0</span><span style="color: #000000;">;&nbsp;j</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">C;&nbsp;j</span><span style="color: #000000;">++</span><span style="color: #000000;">)<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scanf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d</span><span style="color: #800000;">"</span><span style="color: #000000;">,&nbsp;</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">row.data[j]);<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vGraph.push_back(row);<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color: #000000;"><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;i</span><span style="color: #000000;">=</span><span style="color: #800080;">0</span><span style="color: #000000;">;&nbsp;i</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">R;&nbsp;i</span><span style="color: #000000;">++</span><span style="color: #000000;">)<br /><img id="Codehighlighter1_1249_1406_Open_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_1249_1406_Open_Text').style.display='none'; document.getElementById('Codehighlighter1_1249_1406_Closed_Image').style.display='inline'; document.getElementById('Codehighlighter1_1249_1406_Closed_Text').style.display='inline';" align="top"><img id="Codehighlighter1_1249_1406_Closed_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedSubBlock.gif" style="display: none;" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_1249_1406_Closed_Text').style.display='none'; document.getElementById('Codehighlighter1_1249_1406_Open_Image').style.display='inline'; document.getElementById('Codehighlighter1_1249_1406_Open_Text').style.display='inline';" align="top">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="Codehighlighter1_1249_1406_Closed_Text" style="border: 1px solid #808080; background-color: #ffffff; display: none;"><img src="http://www.cnblogs.com/Images/dot.gif" alt="" /></span><span id="Codehighlighter1_1249_1406_Open_Text"><span style="color: #000000;">{<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;j</span><span style="color: #000000;">=</span><span style="color: #800080;">0</span><span style="color: #000000;">;&nbsp;j</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">C;&nbsp;j</span><span style="color: #000000;">++</span><span style="color: #000000;">)<br /><img id="Codehighlighter1_1280_1402_Open_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_1280_1402_Open_Text').style.display='none'; document.getElementById('Codehighlighter1_1280_1402_Closed_Image').style.display='inline'; document.getElementById('Codehighlighter1_1280_1402_Closed_Text').style.display='inline';" align="top"><img id="Codehighlighter1_1280_1402_Closed_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedSubBlock.gif" style="display: none;" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_1280_1402_Closed_Text').style.display='none'; document.getElementById('Codehighlighter1_1280_1402_Open_Image').style.display='inline'; document.getElementById('Codehighlighter1_1280_1402_Open_Text').style.display='inline';" align="top">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="Codehighlighter1_1280_1402_Closed_Text" style="border: 1px solid #808080; background-color: #ffffff; display: none;"><img src="http://www.cnblogs.com/Images/dot.gif" alt="" /></span><span id="Codehighlighter1_1280_1402_Open_Text"><span style="color: #000000;">{<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vPath.clear();<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img id="Codehighlighter1_1318_1343_Open_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_1318_1343_Open_Text').style.display='none'; document.getElementById('Codehighlighter1_1318_1343_Closed_Image').style.display='inline'; document.getElementById('Codehighlighter1_1318_1343_Closed_Text').style.display='inline';" align="top"><img id="Codehighlighter1_1318_1343_Closed_Image" src="http://www.cnblogs.com/Images/OutliningIndicators/ContractedSubBlock.gif" style="display: none;" onclick="this.style.display='none'; document.getElementById('Codehighlighter1_1318_1343_Closed_Text').style.display='none'; document.getElementById('Codehighlighter1_1318_1343_Open_Image').style.display='inline'; document.getElementById('Codehighlighter1_1318_1343_Open_Text').style.display='inline';" align="top">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Path&nbsp;path&nbsp;</span><span style="color: #000000;">=</span><span style="color: #000000;">&nbsp;</span><span id="Codehighlighter1_1318_1343_Closed_Text" style="border: 1px solid #808080; background-color: #ffffff; display: none;"><img src="http://www.cnblogs.com/Images/dot.gif" alt="" /></span><span id="Codehighlighter1_1318_1343_Open_Text"><span style="color: #000000;">{i,&nbsp;j,&nbsp;vGraph[i].data[j]}</span></span><span style="color: #000000;">;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vPath.push_back(path);<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Test(vGraph,R,C,i,j);<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color: #000000;"><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color: #000000;"><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d\n</span><span style="color: #800000;">"</span><span style="color: #000000;">,vPathMax.size());<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">for</span><span style="color: #000000;">(size_t&nbsp;i</span><span style="color: #000000;">=</span><span style="color: #800080;">0</span><span style="color: #000000;">;&nbsp;i</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">vPathMax.size();&nbsp;i</span><span style="color: #000000;">++</span><span style="color: #000000;">)<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(</span><span style="color: #800000;">"</span><span style="color: #800000;">%d&nbsp;</span><span style="color: #800000;">"</span><span style="color: #000000;">,&nbsp;vPathMax[i].h);<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/InBlock.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">return</span><span style="color: #000000;">&nbsp;</span><span style="color: #800080;">0</span><span style="color: #000000;">;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color: #000000;"><br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;">;<br /><img src="http://www.cnblogs.com/Images/OutliningIndicators/None.gif" alt="" align="top" /></span></div><p>&nbsp;正确的方法是用动态规划,参考:</p><p>&nbsp;</p><div id="header"> <div id="HeaderTitle"> <div id="Title"> <a id="Header1_HeaderTitle" class="headermaintitle" href="http://www.cppblog.com/AClayton/">AClayton's ACM/ICPC Life    只切菜题 菜鸟乱飞 </a> </div> <div id="subTitle">路漫漫其修远兮 我要上下左右东南西北中發白而求索</div> </div> </div>  			 				 					 	 		<h2> 			<a id="viewpost1_TitleUrl" href="http://www.cppblog.com/AClayton/archive/2007/09/17/32336.html">ACM PKU 1088 滑雪 　经典的动态规划备忘录方法（记忆化搜索／Memory function ）</a> 		</h2> 		<font color="#333399" size="4"><a href="http://acm.pku.edu.cn/JudgeOnline/problem?id=1088">http://acm.pku.edu.cn/JudgeOnline/problem?id=1088</a><br /></font><font color="#333399" size="4"> <p align="left"><font color="#000000" size="2">非常经典的一道动态规划题，AC的时候心情简直舒畅到了极点．<br />时间限制是1000MS，如果直接用DFS肯定超时的．<br />马上想到动归，<br />用opt[i][j]记录从点node[i][j]出发的最短路径（不算本身，只算延伸；也就是初始值为0）<br />状态转移方程<span style="color: red;">opt[i][j]=max{ opt[i+1][j],opt[i-1][j],opt[i][j+1],opt[i][j-1] } +１</span>&nbsp;&nbsp; 　<br />也就是说，opt[i][j]的值等于从node[i][j]的上下左右四个方向出发所滑的最长值＋１；<br />而这道题并不是简单的动归，计算opt[i][j]的过程需要类似DFS的递归方法．这就是记忆化搜索．　</font><br /><br /></p> </font> <p align="center"><font size="2">Problem Id:1088&nbsp;&nbsp;User Id:lnmm <br />Memory:152K&nbsp;&nbsp;Time:0MS<br />Language:C++&nbsp;&nbsp;Result:Accepted</font></p> <div style="border: 1px solid #cccccc; padding: 4px 5px 4px 4px; font-size: 13px; width: 98%; background-color: #eeeeee;"><span style="color: #008080;">&nbsp;1</span><img src="http://www.cppblog.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /><span style="color: #000000;">#include</span><span style="color: #000000;">"</span><span style="color: #000000;">stdio.h</span><span style="color: #000000;">"</span><span style="color: #000000;"><br /></span><span style="color: #008080;">&nbsp;2</span><span style="color: #000000;"><img id="Codehighlighter1_33_42_Open_Image" onclick="this.style.display='none'; Codehighlighter1_33_42_Open_Text.style.display='none'; Codehighlighter1_33_42_Closed_Image.style.display='inline'; Codehighlighter1_33_42_Closed_Text.style.display='inline';" src="http://www.cppblog.com/Images/OutliningIndicators/ExpandedBlockStart.gif" align="top"><img id="Codehighlighter1_33_42_Closed_Image" style="display: none;" onclick="this.style.display='none'; Codehighlighter1_33_42_Closed_Text.style.display='none'; Codehighlighter1_33_42_Open_Image.style.display='inline'; Codehighlighter1_33_42_Open_Text.style.display='inline';" src="http://www.cppblog.com/Images/OutliningIndicators/ContractedBlock.gif" align="top"></span><span style="color: #0000ff;">const</span><span style="color: #000000;">&nbsp;</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;dx[]</span><span style="color: #000000;">=</span><span id="Codehighlighter1_33_42_Closed_Text" style="border: 1px solid #808080; display: none; background-color: #ffffff;"><img src="http://www.cppblog.com/Images/dot.gif"  alt="" /></span><span id="Codehighlighter1_33_42_Open_Text"><span style="color: #000000;">{</span><span style="color: #000000;">-</span><span style="color: #000000;">1</span><span style="color: #000000;">,</span><span style="color: #000000;">0</span><span style="color: #000000;">,</span><span style="color: #000000;">1</span><span style="color: #000000;">,</span><span style="color: #000000;">0</span><span style="color: #000000;">}</span></span><span style="color: #000000;">,dy[]</span><span style="color: #000000;">=</span><span id="Codehighlighter1_49_58_Closed_Text" style="border: 1px solid #808080; display: none; background-color: #ffffff;"><img src="http://www.cppblog.com/Images/dot.gif"  alt="" /></span><span id="Codehighlighter1_49_58_Open_Text"><span style="color: #000000;">{</span><span style="color: #000000;">0</span><span style="color: #000000;">,</span><span style="color: #000000;">1</span><span style="color: #000000;">,</span><span style="color: #000000;">0</span><span style="color: #000000;">,</span><span style="color: #000000;">-</span><span style="color: #000000;">1</span><span style="color: #000000;">}</span></span><span style="color: #000000;">;<br /></span><span style="color: #008080;">&nbsp;3</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /></span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;r,c;</span><span style="color: #008000;">//</span><span style="color: #008000;">r和c分别是行和列</span><span style="color: #008000;"><br /></span><span style="color: #008080;">&nbsp;4</span><span style="color: #008000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /></span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;node[</span><span style="color: #000000;">101</span><span style="color: #000000;">][</span><span style="color: #000000;">101</span><span style="color: #000000;">];&nbsp;</span><span style="color: #008000;">//</span><span style="color: #008000;">放置每个坐标上的高度</span><span style="color: #008000;"><br /></span><span style="color: #008080;">&nbsp;5</span><span style="color: #008000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /></span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;opt[</span><span style="color: #000000;">101</span><span style="color: #000000;">][</span><span style="color: #000000;">101</span><span style="color: #000000;">];&nbsp;</span><span style="color: #008000;">//</span><span style="color: #008000;">放置从每个坐标出发的最优解</span><span style="color: #008000;"><br /></span><span style="color: #008080;">&nbsp;6</span><span style="color: #008000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /></span><span style="color: #000000;"><br /></span><span style="color: #008080;">&nbsp;7</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /></span><span style="color: #0000ff;">bool</span><span style="color: #000000;">&nbsp;ok(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;i,</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;j)<br /></span><span style="color: #008080;">&nbsp;8</span><span style="color: #000000;"><img id="Codehighlighter1_171_213_Open_Image" onclick="this.style.display='none'; Codehighlighter1_171_213_Open_Text.style.display='none'; Codehighlighter1_171_213_Closed_Image.style.display='inline'; Codehighlighter1_171_213_Closed_Text.style.display='inline';" src="http://www.cppblog.com/Images/OutliningIndicators/ExpandedBlockStart.gif" align="top"><img id="Codehighlighter1_171_213_Closed_Image" style="display: none;" onclick="this.style.display='none'; Codehighlighter1_171_213_Closed_Text.style.display='none'; Codehighlighter1_171_213_Open_Image.style.display='inline'; Codehighlighter1_171_213_Open_Text.style.display='inline';" src="http://www.cppblog.com/Images/OutliningIndicators/ContractedBlock.gif" align="top"></span><span id="Codehighlighter1_171_213_Closed_Text" style="border: 1px solid #808080; display: none; background-color: #ffffff;"><img src="http://www.cppblog.com/Images/dot.gif"  alt="" /></span><span id="Codehighlighter1_171_213_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">&nbsp;9</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/InBlock.gif" align="top"  alt="" />&nbsp;&nbsp;</span><span style="color: #0000ff;">return</span><span style="color: #000000;">&nbsp;(i</span><span style="color: #000000;">&gt;=</span><span style="color: #000000;">1</span><span style="color: #000000;">&nbsp;</span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;">&nbsp;i</span><span style="color: #000000;">&lt;=</span><span style="color: #000000;">r&nbsp;</span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;">&nbsp;j</span><span style="color: #000000;">&gt;=</span><span style="color: #000000;">1</span><span style="color: #000000;">&nbsp;</span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;">j</span><span style="color: #000000;">&lt;=</span><span style="color: #000000;">c);<br /></span><span style="color: #008080;">10</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" align="top"  alt="" />}</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">11</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /><br /></span><span style="color: #008080;">12</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /><br /></span><span style="color: #008080;">13</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /><br /></span><span style="color: #008080;">14</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /></span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;dp(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;i,</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;j)<br /></span><span style="color: #008080;">15</span><span style="color: #000000;"><img id="Codehighlighter1_238_729_Open_Image" onclick="this.style.display='none'; Codehighlighter1_238_729_Open_Text.style.display='none'; Codehighlighter1_238_729_Closed_Image.style.display='inline'; Codehighlighter1_238_729_Closed_Text.style.display='inline';" src="http://www.cppblog.com/Images/OutliningIndicators/ExpandedBlockStart.gif" align="top"><img id="Codehighlighter1_238_729_Closed_Image" style="display: none;" onclick="this.style.display='none'; Codehighlighter1_238_729_Closed_Text.style.display='none'; Codehighlighter1_238_729_Open_Image.style.display='inline'; Codehighlighter1_238_729_Open_Text.style.display='inline';" src="http://www.cppblog.com/Images/OutliningIndicators/ContractedBlock.gif" align="top"></span><span id="Codehighlighter1_238_729_Closed_Text" style="border: 1px solid #808080; display: none; background-color: #ffffff;"><img src="http://www.cppblog.com/Images/dot.gif"  alt="" /></span><span id="Codehighlighter1_238_729_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">16</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/InBlock.gif" align="top"  alt="" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;k;<br /></span><span style="color: #008080;">17</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/InBlock.gif" align="top"  alt="" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">if</span><span style="color: #000000;">(opt[i][j]</span><span style="color: #000000;">&gt;</span><span style="color: #000000;">0</span><span style="color: #000000;">)&nbsp;</span><span style="color: #0000ff;">return</span><span style="color: #000000;">&nbsp;opt[i][j];&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000;">//</span><span style="color: #008000;">如果已经计算出,直接返回</span><span style="color: #008000;"><br /></span><span style="color: #008080;">18</span><span style="color: #008000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/InBlock.gif" align="top"  alt="" /></span><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">for</span><span style="color: #000000;">(k</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">;k</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">4</span><span style="color: #000000;">;k</span><span style="color: #000000;">++</span><span style="color: #000000;">)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000;">//</span><span style="color: #008000;">向四个方向延伸</span><span style="color: #008000;"><br /></span><span style="color: #008080;">19</span><span style="color: #008000;"><img id="Codehighlighter1_349_557_Open_Image" onclick="this.style.display='none'; Codehighlighter1_349_557_Open_Text.style.display='none'; Codehighlighter1_349_557_Closed_Image.style.display='inline'; Codehighlighter1_349_557_Closed_Text.style.display='inline';" src="http://www.cppblog.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top"><img id="Codehighlighter1_349_557_Closed_Image" style="display: none;" onclick="this.style.display='none'; Codehighlighter1_349_557_Closed_Text.style.display='none'; Codehighlighter1_349_557_Open_Image.style.display='inline'; Codehighlighter1_349_557_Open_Text.style.display='inline';" src="http://www.cppblog.com/Images/OutliningIndicators/ContractedSubBlock.gif" align="top"></span><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="Codehighlighter1_349_557_Closed_Text" style="border: 1px solid #808080; display: none; background-color: #ffffff;"><img src="http://www.cppblog.com/Images/dot.gif"  alt="" /></span><span id="Codehighlighter1_349_557_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">20</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/InBlock.gif" align="top"  alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">if</span><span style="color: #000000;">(ok(i</span><span style="color: #000000;">+</span><span style="color: #000000;">dx[k],j</span><span style="color: #000000;">+</span><span style="color: #000000;">dy[k]))&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000;">//</span><span style="color: #008000;">如果节点没有超出边界</span><span style="color: #008000;"><br /></span><span style="color: #008080;">21</span><span style="color: #008000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/InBlock.gif" align="top"  alt="" /></span><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">if</span><span style="color: #000000;">(&nbsp;node[i</span><span style="color: #000000;">+</span><span style="color: #000000;">dx[k]][j</span><span style="color: #000000;">+</span><span style="color: #000000;">dy[k]]</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">node[i][j]&nbsp;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #008000;">//</span><span style="color: #008000;">满足滑雪条件</span><span style="color: #008000;"><br /></span><span style="color: #008080;">22</span><span style="color: #008000;"><img id="Codehighlighter1_461_554_Open_Image" onclick="this.style.display='none'; Codehighlighter1_461_554_Open_Text.style.display='none'; Codehighlighter1_461_554_Closed_Image.style.display='inline'; Codehighlighter1_461_554_Closed_Text.style.display='inline';" src="http://www.cppblog.com/Images/OutliningIndicators/ExpandedSubBlockStart.gif" align="top"><img id="Codehighlighter1_461_554_Closed_Image" style="display: none;" onclick="this.style.display='none'; Codehighlighter1_461_554_Closed_Text.style.display='none'; Codehighlighter1_461_554_Open_Image.style.display='inline'; Codehighlighter1_461_554_Open_Text.style.display='inline';" src="http://www.cppblog.com/Images/OutliningIndicators/ContractedSubBlock.gif" align="top"></span><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="Codehighlighter1_461_554_Closed_Text" style="border: 1px solid #808080; display: none; background-color: #ffffff;"><img src="http://www.cppblog.com/Images/dot.gif"  alt="" /></span><span id="Codehighlighter1_461_554_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">23</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/InBlock.gif" align="top"  alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">if</span><span style="color: #000000;">(&nbsp;&nbsp;opt[i][j]</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">&nbsp;dp(i</span><span style="color: #000000;">+</span><span style="color: #000000;">dx[k],j</span><span style="color: #000000;">+</span><span style="color: #000000;">dy[k])</span><span style="color: #000000;">+</span><span style="color: #000000;">1</span><span style="color: #000000;">&nbsp;)&nbsp;<br /></span><span style="color: #008080;">24</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/InBlock.gif" align="top"  alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;opt[i][j]</span><span style="color: #000000;">=</span><span style="color: #000000;">dp(i</span><span style="color: #000000;">+</span><span style="color: #000000;">dx[k],j</span><span style="color: #000000;">+</span><span style="color: #000000;">dy[k])</span><span style="color: #000000;">+</span><span style="color: #000000;">1</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">25</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"  alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">26</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top"  alt="" />&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">27</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/InBlock.gif" align="top"  alt="" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">return</span><span style="color: #000000;">&nbsp;opt[i][j];<br /></span><span style="color: #008080;">28</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/InBlock.gif" align="top"  alt="" /><br /></span><span style="color: #008080;">29</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/InBlock.gif" align="top"  alt="" /><br /></span><span style="color: #008080;">30</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/InBlock.gif" align="top"  alt="" /></span><span style="color: #008000;">//</span><span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(ok(i+dx[k],j+dy[k])&amp;&amp;node[i+dx[k]][j+dy[k]]&lt;node[i][j]&amp;&amp;opt[i][j]&gt;dp(i+dx[k],j+dy[k])+1)<br /></span><span style="color: #008080;">31</span><span style="color: #008000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/InBlock.gif" align="top"  alt="" /></span><span style="color: #008000;">//</span><span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;opt[i][j]=dp(i+dx[k],j+dy[k])+1;</span><span style="color: #008000;"><br /></span><span style="color: #008080;">32</span><span style="color: #008000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/InBlock.gif" align="top"  alt="" /></span><span style="color: #000000;"><br /></span><span style="color: #008080;">33</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/InBlock.gif" align="top"  alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br /></span><span style="color: #008080;">34</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/InBlock.gif" align="top"  alt="" /><br /></span><span style="color: #008080;">35</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" align="top"  alt="" />}</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">36</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /><br /></span><span style="color: #008080;">37</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /></span><span style="color: #0000ff;">void</span><span style="color: #000000;">&nbsp;main()<br /></span><span style="color: #008080;">38</span><span style="color: #000000;"><img id="Codehighlighter1_744_1019_Open_Image" onclick="this.style.display='none'; Codehighlighter1_744_1019_Open_Text.style.display='none'; Codehighlighter1_744_1019_Closed_Image.style.display='inline'; Codehighlighter1_744_1019_Closed_Text.style.display='inline';" src="http://www.cppblog.com/Images/OutliningIndicators/ExpandedBlockStart.gif" align="top"><img id="Codehighlighter1_744_1019_Closed_Image" style="display: none;" onclick="this.style.display='none'; Codehighlighter1_744_1019_Closed_Text.style.display='none'; Codehighlighter1_744_1019_Open_Image.style.display='inline'; Codehighlighter1_744_1019_Open_Text.style.display='inline';" src="http://www.cppblog.com/Images/OutliningIndicators/ContractedBlock.gif" align="top"></span><span id="Codehighlighter1_744_1019_Closed_Text" style="border: 1px solid #808080; display: none; background-color: #ffffff;"><img src="http://www.cppblog.com/Images/dot.gif"  alt="" /></span><span id="Codehighlighter1_744_1019_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">39</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/InBlock.gif" align="top"  alt="" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">int</span><span style="color: #000000;">&nbsp;max</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">,i,j;&nbsp;<br /></span><span style="color: #008080;">40</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/InBlock.gif" align="top"  alt="" />&nbsp;&nbsp;&nbsp;&nbsp;scanf(</span><span style="color: #000000;">"</span><span style="color: #000000;">%d%d</span><span style="color: #000000;">"</span><span style="color: #000000;">,</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">r,</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">c);<br /></span><span style="color: #008080;">41</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/InBlock.gif" align="top"  alt="" /><br /></span><span style="color: #008080;">42</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/InBlock.gif" align="top"  alt="" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">for</span><span style="color: #000000;">(i</span><span style="color: #000000;">=</span><span style="color: #000000;">1</span><span style="color: #000000;">;i</span><span style="color: #000000;">&lt;=</span><span style="color: #000000;">r;i</span><span style="color: #000000;">++</span><span style="color: #000000;">)<br /></span><span style="color: #008080;">43</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/InBlock.gif" align="top"  alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">for</span><span style="color: #000000;">(j</span><span style="color: #000000;">=</span><span style="color: #000000;">1</span><span style="color: #000000;">;j</span><span style="color: #000000;">&lt;=</span><span style="color: #000000;">c;j</span><span style="color: #000000;">++</span><span style="color: #000000;">)<br /></span><span style="color: #008080;">44</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/InBlock.gif" align="top"  alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scanf(</span><span style="color: #000000;">"</span><span style="color: #000000;">%d</span><span style="color: #000000;">"</span><span style="color: #000000;">,</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">node[i][j]);<br /></span><span style="color: #008080;">45</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/InBlock.gif" align="top"  alt="" />&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">for</span><span style="color: #000000;">(i</span><span style="color: #000000;">=</span><span style="color: #000000;">1</span><span style="color: #000000;">;i</span><span style="color: #000000;">&lt;=</span><span style="color: #000000;">r;i</span><span style="color: #000000;">++</span><span style="color: #000000;">)<br /></span><span style="color: #008080;">46</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/InBlock.gif" align="top"  alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">for</span><span style="color: #000000;">(j</span><span style="color: #000000;">=</span><span style="color: #000000;">1</span><span style="color: #000000;">;j</span><span style="color: #000000;">&lt;=</span><span style="color: #000000;">c;j</span><span style="color: #000000;">++</span><span style="color: #000000;">)<br /></span><span style="color: #008080;">47</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/InBlock.gif" align="top"  alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;opt[i][j]</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">48</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/InBlock.gif" align="top"  alt="" /><br /></span><span style="color: #008080;">49</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/InBlock.gif" align="top"  alt="" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">for</span><span style="color: #000000;">(i</span><span style="color: #000000;">=</span><span style="color: #000000;">1</span><span style="color: #000000;">;i</span><span style="color: #000000;">&lt;=</span><span style="color: #000000;">r;i</span><span style="color: #000000;">++</span><span style="color: #000000;">)<br /></span><span style="color: #008080;">50</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/InBlock.gif" align="top"  alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">for</span><span style="color: #000000;">(j</span><span style="color: #000000;">=</span><span style="color: #000000;">1</span><span style="color: #000000;">;j</span><span style="color: #000000;">&lt;=</span><span style="color: #000000;">c;j</span><span style="color: #000000;">++</span><span style="color: #000000;">)<br /></span><span style="color: #008080;">51</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/InBlock.gif" align="top"  alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">if</span><span style="color: #000000;">(max</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">dp(i,j))max</span><span style="color: #000000;">=</span><span style="color: #000000;">dp(i,j);<br /></span><span style="color: #008080;">52</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/InBlock.gif" align="top"  alt="" />&nbsp;&nbsp;&nbsp;&nbsp;printf(</span><span style="color: #000000;">"</span><span style="color: #000000;">%d</span><span style="color: #000000;">"</span><span style="color: #000000;">,max</span><span style="color: #000000;">+</span><span style="color: #000000;">1</span><span style="color: #000000;">);　　<span style="color: #008000;">//输出值需要＋１　，因为在前面的计算中，每个点的初始值都是0<br /></span></span><span style="color: #008080;">53</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/InBlock.gif" align="top"  alt="" /><br /></span><span style="color: #008080;">54</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/InBlock.gif" align="top"  alt="" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000ff;">return</span><span style="color: #000000;">&nbsp;;<br /></span><span style="color: #008080;">55</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/ExpandedBlockEnd.gif" align="top"  alt="" />}</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">56</span><span style="color: #000000;"><img src="http://www.cppblog.com/Images/OutliningIndicators/None.gif" align="top"  alt="" /></span></div><p>&nbsp;http://www.cppblog.com/AClayton/archive/2007/09/17/32336.aspx</p>