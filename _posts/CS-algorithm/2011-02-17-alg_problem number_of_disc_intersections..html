<div><p> Given an array A of N integers we draw N discs in a 2D plane,  such that i-th disc has center in (0,i) and a radius A[i].  We say that k-th disc and j-th disc intersect,  if <img src="http://codility.com/static/task_img/number_of_disc_intersections/task.en.img1.png" alt="$k\not =j$" align="middle" border="0" height="32" width="38" /> and k-th and j-th discs have at least one common point.  </p><p> Write a function </p><p align="center"> <tt>       int number_of_disc_intersections(int[] A);            </tt> </p><p> </p> <p> which given an array A describing N discs as explained above,  returns the number of pairs  of intersecting discs. For example, given N=6 and  </p><p> <br /></p> <div align="center">  <img src="http://codility.com/static/task_img/number_of_disc_intersections/task.en.img2.png" alt="\begin{displaymath}A[0]=1 A[1]=5 A[2]=2 A[3]=1 A[4]=4 A[5]=0\end{displaymath}" border="0" height="28" width="344" /> </div> <br />  <p> there are 11 pairs of intersecting discs:  </p><p> </p><div><pre>    0th and 1st<br />    0th and 2nd<br />    0th and 4th<br />    1st and 2nd<br />    1st and 3rd<br />    1st and 4th<br />    1st and 5th<br />    2nd and 3rd<br />    2nd and 4th<br />    3rd and 4th<br />    4th and 5th<br /></pre></div> <p> so the function should return 11.   </p><p> The function should return -1 if the number of intersecting pairs exceeds 10,000,000. The function may assume that N does not exceed 10,000,000.  </p></div><p><br /></p><p>&nbsp;</p><div>#include &lt;stdio.h&gt;<br />#include &lt;vector&gt;<br /><br />int number_of_disc_intersections ( const std::vector&lt;int&gt; &amp;A ) {<br />&nbsp;&nbsp; // write your code here<br />&nbsp;&nbsp; &nbsp;size_t n = A.size();<br />&nbsp;&nbsp; &nbsp;if(n==0) return -1;<br />&nbsp;&nbsp; &nbsp;<br /><br />&nbsp;&nbsp; &nbsp;long long num=0;<br />&nbsp;&nbsp; &nbsp;for(size_t i=0; i&lt;n; i++)<br />&nbsp;&nbsp; &nbsp;{<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;for(size_t j=i+1; j&lt;n; j++)<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if( j-i&lt;= A[i]+A[j] /*&amp;&amp; j -i + A[i] &gt;= A[j] &amp;&amp; j-i + A[j] &gt;= A[i] */)<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;//printf("%d %d\n", i, j);<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;num++;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if(num&gt;=10000000)<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;return -1;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;}<br />&nbsp;&nbsp; &nbsp;}<br /><br />&nbsp;&nbsp; &nbsp;return num;<br />}<br /><br />int main()<br />{<br />&nbsp;&nbsp; &nbsp;int a[]={1,5,2,1,4,0};<br />&nbsp;&nbsp; &nbsp;std::vector&lt;int&gt; A(a, a+sizeof(a)/sizeof(a[0]));<br />&nbsp;&nbsp; &nbsp;int i=number_of_disc_intersections(A);<br />&nbsp;&nbsp; &nbsp;printf("%d\n",i);<br />}</div><p>&nbsp;</p><p>&nbsp;</p><p><div>http://stackoverflow.com/questions/4801242/algorithm-to-calculate-number-of-intersecting-discs</div></p><p>&nbsp;</p><p><div>http://www.devcomments.com/q490073/Algorithm-to-calculate-number-intersecting-discs</div>&nbsp;</p><p>&nbsp;</p>