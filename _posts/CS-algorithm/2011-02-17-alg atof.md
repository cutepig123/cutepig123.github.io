---
categories: CS-algorithm
---
<div>#include &lt;stdio.h&gt;<br />#include &lt;math.h&gt;<br /><br />int Reverse(int n)<br />{<br />&nbsp;&nbsp; &nbsp;int m=0;<br />&nbsp;&nbsp; &nbsp;for( ; n&gt;0; n/=10 )<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;m = m*10 + (n%10);<br />&nbsp;&nbsp; &nbsp;return m;<br />}<br /><br />bool IsNumber(char c)<br />{<br />&nbsp;&nbsp; &nbsp;return c&gt;='0' &amp;&amp; c&lt;='9';<br />}<br /><br />double Atof(const char *s, char **stopPos)<br />{<br />&nbsp;&nbsp; &nbsp;int sign = 1;<br />&nbsp;&nbsp; &nbsp;double l1 = 0.0;<br />&nbsp;&nbsp; &nbsp;double l2 = 0.0;<br />&nbsp;&nbsp; &nbsp;int sign2 = 1;<br />&nbsp;&nbsp; &nbsp;double r = 0.0;&nbsp;&nbsp; &nbsp;<br />&nbsp;&nbsp; &nbsp;// num = isNeg l * 10^r<br />&nbsp;&nbsp; &nbsp;<br />&nbsp;&nbsp; &nbsp;if(*s=='+') s++;<br />&nbsp;&nbsp; &nbsp;if(*s=='-') {s++; sign = -1;}<br />&nbsp;&nbsp; &nbsp;<br />&nbsp;&nbsp; &nbsp;for( ; IsNumber(*s); s++)<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;l1 = l1*10 + (*s-'0');<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br />&nbsp;&nbsp; &nbsp;if(*s=='.')<br />&nbsp;&nbsp; &nbsp;{<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;s++;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;double f=0.1;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;for( ; IsNumber(*s); s++, f/=10)<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;l2 += (*s-'0')*f;<br />&nbsp;&nbsp; &nbsp;}<br />&nbsp;&nbsp; &nbsp;<br />&nbsp;&nbsp; &nbsp;if(*s=='e')<br />&nbsp;&nbsp; &nbsp;{<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;s++;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if(*s=='+') s++;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if(*s=='-') {s++; sign2 = -1;}<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;for( ; IsNumber(*s); s++)<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;r = r*10 + (*s-'0');<br />&nbsp;&nbsp; &nbsp;}<br />&nbsp;&nbsp; &nbsp;<br />&nbsp;&nbsp; &nbsp;*stopPos = s;<br />&nbsp;&nbsp; &nbsp;return sign*(l1+l2)*pow(10,sign2*r);<br />}<br /><br />void main(int argc, char *argv[])<br />{<br />&nbsp;&nbsp; &nbsp;if(argc&gt;1)<br />&nbsp;&nbsp; &nbsp;{<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;double r = Atof(argv[1]);<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;printf("%g\n", r);<br />&nbsp;&nbsp; &nbsp;}<br />}<br /></div>