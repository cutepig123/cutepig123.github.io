<p>hjs@ubuntu:~/projects/ConsoleApplication1$ <strong>cat main.cpp</strong><br />#include &lt;cstdio&gt;</p>
<p>int main()<br />{<br />//      int a = 1;<br />    printf("hello from ConsoleApplication1!\n");<br />    return 0;<br />}<br />hjs@ubuntu:~/projects/ConsoleApplication1$<strong> cat CMakeLists.txt</strong><br />cmake_minimum_required(VERSION 2.8)</p>
<p>project(coroutine)<br />SET(CMAKE_CXX_COMPILER "g++")</p>
<p>set(CXX_FLAGS "-std=c++11 -Wall -Werror -fPIC")</p>
<p>set(CMAKE_CXX_FLAGS "-g ${CXX_FLAGS}")</p>
<p>set(CMAKE_CXX_FLAGS_RELEASE "-O3 ${CXX_FLAGS}")</p>
<p>add_executable(testProgram main.cpp)</p>
<p>hjs@ubuntu:~/projects/ConsoleApplication1$ <strong>cmake .</strong><br />-- Configuring done<br />-- Generating done<br />-- Build files have been written to: /home/hjs/projects/ConsoleApplication1<br />hjs@ubuntu:~/projects/ConsoleApplication1$ <strong>make</strong><br />[100%] Built target testProgram</p>
<p>hjs@ubuntu:~/projects/ConsoleApplication1$ <strong>ls</strong><br />bin  CMakeCache.txt  CMakeFiles  cmake_install.cmake  CMakeLists.txt  CMakeLists.txtY  main.cpp  Makefile  obj  testProgram<br />hjs@ubuntu:~/projects/ConsoleApplication1$ <strong>./testProgram</strong><br />hello from ConsoleApplication1!</p>
<p>hjs@ubuntu:~/projects/ConsoleApplication1$ <strong>gdb ./testProgram</strong><br />GNU gdb (Ubuntu 7.11.1-0ubuntu1~16.04) 7.11.1<br />Copyright (C) 2016 Free Software Foundation, Inc.<br />License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;<br />This is free software: you are free to change and redistribute it.<br />There is NO WARRANTY, to the extent permitted by law.  Type "show copying"<br />and "show warranty" for details.<br />This GDB was configured as "x86_64-linux-gnu".<br />Type "show configuration" for configuration details.<br />For bug reporting instructions, please see:<br />&lt;http://www.gnu.org/software/gdb/bugs/&gt;.<br />Find the GDB manual and other documentation resources online at:<br />&lt;http://www.gnu.org/software/gdb/documentation/&gt;.<br />For help, type "help".<br />Type "apropos word" to search for commands related to "word"...<br />Reading symbols from ./testProgram...done.<br />(gdb)</p>
<p>(gdb)<strong> l</strong><br />1       #include &lt;cstdio&gt;<br />2<br />3       int main()<br />4       {<br />5       //      int a = 1;<br />6           printf("hello from ConsoleApplication1!\n");<br />7           return 0;<br />8       }<br />(gdb) <strong>b 6</strong><br />Breakpoint 1 at 0x40078a: file /home/hjs/projects/ConsoleApplication1/main.cpp, line 6.<br />(gdb)<strong> r</strong><br />Starting program: /home/hjs/projects/ConsoleApplication1/testProgram</p>
<p>Breakpoint 1, main () at /home/hjs/projects/ConsoleApplication1/main.cpp:6<br />6           printf("hello from ConsoleApplication1!\n");<br />(gdb)</p>
<p>(gdb) <strong>c</strong></p>
<p>Continuing.<br />hello from ConsoleApplication1!<br />[Inferior 1 (process 3005) exited normally]</p>
<p><strong>gdb命令参考</strong></p>
<p>&nbsp;</p>
<p>http://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/gdb.html</p>
<p>&nbsp;</p>
<p>Note</p>
<p>gdb也有窗口</p>
<ul class="simple">
<li>layout：用于分割窗口，可以一边查看代码，一边测试：</li>
<li>layout src：显示源代码窗口</li>
<li>layout asm：显示反汇编窗口</li>
<li>layout regs：显示源代码/反汇编和CPU寄存器窗口</li>
<li>layout split：显示源代码和反汇编窗口</li>
<li>Ctrl + L：刷新窗口</li>

</ul>
<p>┌──Register group: general──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐<br />│rax            0x400786 4196230                                rbx            0x0      0                                      rcx            0x0      0                                        │<br />│rdx            0x7fffffffe5d8   140737488348632                rsi            0x7fffffffe5c8   140737488348616                rdi            0x1      1                                        │<br />│rbp            0x7fffffffe4e0   0x7fffffffe4e0                 rsp            0x7fffffffe4e0   0x7fffffffe4e0                 r8             0x400810 4196368                                  │<br />│r9             0x7ffff7de78e0   140737351940320                r10            0x846    2118                                   r11            0x7ffff7a2e740   140737348036416                  │<br />│r12            0x400690 4195984                                r13            0x7fffffffe5c0   140737488348608                r14            0x0      0                                        │<br />│r15            0x0      0                                      rip            0x40078a 0x40078a &lt;main()+4&gt;                    eflags         0x246    [ PF ZF IF ]                             │<br />└───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘<br />   │4       {                                                                                                                                                                                   │<br />   │5       //      int a = 1;                                                                                                                                                                  │<br />B+&gt;│6           printf("hello from ConsoleApplication1!\n");                                                                                                                                    │<br />   │7           return 0;                                                                                                                                                                       │<br />   │8       }                                                                                                                                                                                   │<br />   │9                                                                                                                                                                                           │<br />   └────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘<br />native process 3007 In: main                                                                                                                                                  L6    PC: 0x40078a<br />[Inferior 1 (process 3006) exited normally]<br />(gdb) layout regs<br />(gdb) r<br />Starting program: /home/hjs/projects/ConsoleApplication1/testProgram</p>
<p>Breakpoint 1, main () at /home/hjs/projects/ConsoleApplication1/main.cpp:6<br />(gdb) Quit<br />(gdb)</p>