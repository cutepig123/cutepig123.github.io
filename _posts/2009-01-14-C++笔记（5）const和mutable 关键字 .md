C++笔记（5）const关键字<br><br>1、const&nbsp;&nbsp; A&nbsp;&nbsp; fun2(&nbsp;&nbsp; );&nbsp;&nbsp; const&nbsp;&nbsp; A*&nbsp;&nbsp; fun3(&nbsp;&nbsp; ); <br>返回const变量<br><br>2、类成员函数中const的使用&nbsp;&nbsp; &nbsp;<br>&nbsp; 一般放在函数体后，形如：void&nbsp;&nbsp; fun()&nbsp;&nbsp; const;&nbsp;&nbsp;&nbsp; &nbsp;<br>任何不会修改数据成员的函数都因该声明为const类型。如果在编写const成员函数时，不慎修改了数据成员，或者调用了其他非const成员函数，编译器将报错，这大大提高了程序的健壮性。<br><br>3、const变量<br><br>4、const对象<br>只能访问const成员变量和const成员函数<br><br>据说有这种面试题：<br>class A<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public :<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char get_m() const<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return m;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; private:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char m;<br>}<br>请在函数get_m中改变m的值。<br><br>我想，对于这种流氓问题，只好使用流氓的做法：<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char get_m() const<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char * p = (char *) &amp;m;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *p = 'C';<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return m;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>呵呵，可以做到，因为类内const函数是通过“把类内成员都作为const”来实现的。<br>不过这是我这种“流氓程序员”的做法。<br><br>实际上，经过同事的教导，应该使用mutable修饰符：<br>mutable char m;<br>这样即使在类的const函数内，m的类型也是可以改变的了。<br><br>另外，如果想不要这份工作，也可以这么写：<br>#define const<br>哈哈，这样面试官就不敢要你啦。:D<br><br>参考：<br>http://dulao5.blog.hexun.com/6687190_d.html