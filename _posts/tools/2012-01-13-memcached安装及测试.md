---
categories: tools
---
<p>Memcache协议<br />http://web2.0coder.com/archives/199<br /><br />python clients:<br />http://sendapatch.se/projects/pylibmc/<br />down fwom here: http://pypi.python.org/pypi/pylibmc#downloads<br />介绍各个客户端，以及pylibmc的安装<br />http://code.google.com/p/memcached/wiki/Clients<br />http://iyouf.info/memcached-client-pylibmc.html<br /><br />pylibmc 安装过程<br /><br />pylibmc安装过程就像个递归调用，要安装pylibmc需要先安装libmemcached，安装libmemcached又需要先安装memcached，安装memcached又要先安装libevent。以下是安装过程<br /><br />1。安装libevent<br /><br />./configure &amp;&amp; make &amp;&amp; make install<br /><br />默认安装的需要做个软连：/usr/lib/libevent-1.3.so.1 -&gt; /usr/local/lib/libevent-1.3.so.1。1.3是版本号<br /><br />&nbsp;<br /><br />2。安装memcached<br /><br />./configure &amp;&amp; make &amp;&amp; make install<br /><br />&nbsp;<br /><br />3。安装libmemcached<br /><br />./configure 需要指定参数，参照http://www.hdwong.com/article/libmemcached-compile-error.html<br /><br />./configure --disable-64bit CFLAGS="-O3 -march=i686"<br /><br />make &amp;&amp; make install<br /><br />默认安装的需要做个软连：ln -s /usr/local/lib/libmemcached.so.5 /usr/lib/libmemcached.so.5<br /><br />这里有个问题就是<br />4。安装pylibmc <br /><br />./configure &amp;&amp; make &amp;&amp; make install<br /><br />4.2 安装及测试python-memcached-1.48 <br /><br />import memcache<br />mc = memcache.Client(['127.0.0.1:11211'], debug=1)<br /><br />mc.set("some_key", "Some value")<br />value = mc.get("some_key")<br />print value<br /><br />mc.set("another_key", 3)<br />mc.delete("another_key")<br /><br />mc.set("key", "1")&nbsp;&nbsp; # note that the key used for incr/decr must be a string.<br />mc.incr("key")<br />mc.decr("key")<br /><br /><strong>安装过程中遇到的几个问题</strong><br />1. 安装pylibmc 时找不到python的头文件，为了图方便，有下载了个python-memcached-1.48（这个lib直接是python写的，不需要编译），然后直接可以测试<br />测试时需要先运行memcached服务，然后执行测试脚本<br /><br />2. 安装memcached后运行提示找不到libevent的文件，需要用find / -name libevent*找到文件路径，<br />然后执行 LD_DEBUG=libs memcached查看加载库文件路径，再利用<br />ln -s 添加符号链接使之可以找到<br /><br /></p>