<p>gdb试用（1）<br />cutepig@ubuntu:/mnt/hgfs/share/testValgrind$ <strong>gdb ./test</strong><br />GNU gdb (GDB) 7.0-ubuntu<br />Copyright (C) 2009 Free Software Foundation, Inc.<br />License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;<br />This is free software: you are free to change and redistribute it.<br />There is NO WARRANTY, to the extent permitted by law.&nbsp; Type "show copying"<br />and "show warranty" for details.<br />This GDB was configured as "i486-linux-gnu".<br />For bug reporting instructions, please see:<br />&lt;http://www.gnu.org/software/gdb/bugs/&gt;...<br />Reading symbols from /mnt/hgfs/share/testValgrind/test...done.<br /><br /><strong>(gdb) list</strong><br />1&nbsp;&nbsp;&nbsp; #include &lt;string.h&gt;<br />2&nbsp;&nbsp;&nbsp; #include &lt;stdlib.h&gt;<br />3&nbsp;&nbsp;&nbsp; <br />4&nbsp;&nbsp;&nbsp; <br />5&nbsp;&nbsp;&nbsp; int main(int argc, char *argv[])<br />6&nbsp;&nbsp;&nbsp; {<br />7&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; char *ptr;<br />8&nbsp;&nbsp;&nbsp; <br />9&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; ptr = (char*) malloc(10);<br />10&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; strcpy(ptr, "01234567890");<br /><br /><strong>(gdb) b 9</strong><br />Breakpoint 1 at 0x804850d: file test.cpp, line 9.<br /><strong>(gdb) r</strong><br />Starting program: /mnt/hgfs/share/testValgrind/test <br /><br />Breakpoint 1, main (argc=1, argv=0xbffff524) at test.cpp:9<br />9&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; ptr = (char*) malloc(10);<br /><br /><strong>(gdb) info break</strong><br />Num&nbsp;&nbsp;&nbsp;&nbsp; Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Disp Enb Address&nbsp;&nbsp;&nbsp; What<br />1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; breakpoint&nbsp;&nbsp;&nbsp;&nbsp; keep y&nbsp;&nbsp; 0x0804850d in main at test.cpp:9<br />&nbsp;&nbsp;&nbsp; breakpoint already hit 1 time<br />当前帧能看到的变量&nbsp;&nbsp;&nbsp; <br /><strong>(gdb) info frame</strong> <br />Stack level 0, frame at 0xbffff480:<br />&nbsp;eip = 0x804850d in main (test.cpp:9); saved eip 0x3bdb56<br />&nbsp;source language c++.<br />&nbsp;Arglist at 0xbffff478, args: argc=1, argv=0xbffff524<br />&nbsp;Locals at 0xbffff478, Previous frame's sp is 0xbffff480<br />&nbsp;Saved registers:<br />&nbsp; ebp at 0xbffff478, eip at 0xbffff47c<br />查看某个变量<br /><strong>(gdb) print argv</strong><br />$1 = (char **) 0xbffff524<br /><strong>(gdb) whatis argv</strong><br />type = char **<br />(gdb) <br /><br />参考<br />http://www.study-area.org/cyril/opentools/opentools/x1253.html</p>