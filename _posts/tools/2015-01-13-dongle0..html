<p>*CLI&gt; -- [dongle0] Trying to connect on /dev/ttyUSB2...</p>
<p><span style="background-color: #ff0000;">插拔dongle</span><br />[Jan 13 23:42:20] WARNING[3443]: chan_dongle.c:215 opentty: unable to open /dev/ttyUSB2: No such file or directory<br />    -- [dongle0] Trying to connect on /dev/ttyUSB2...<br />[Jan 13 23:42:35] WARNING[3443]: chan_dongle.c:215 opentty: unable to open /dev/ttyUSB2: No such file or directory<br />dongle show devices<br />ID           Group State      RSSI Mode Submode Provider Name  Model      Firmware          IMEI             IMSI             Number        <br />dongle0      0     Not connec 0    0    0       NONE                                                                          Unknown       <br />*CLI&gt;     -- [dongle0] Trying to connect on /dev/ttyUSB2...<br />[Jan 13 23:42:50] WARNING[3443]: chan_dongle.c:215 opentty: unable to open /dev/ttyUSB2: No such file or directory<br />    -- [dongle0] Trying to connect on /dev/ttyUSB2...<br />    -- [dongle0] Dongle has connected, initializing...<br />[Jan 13 23:43:06] WARNING[3591]: at_response.c:384 at_response_error: [dongle0] Error checking subscriber phone number<br />    -- [dongle0] Dongle needs to be reinitialized. The SIM card is not ready yet<br />    -- [dongle0] Error initializing Dongle<br />    -- [dongle0] Dongle has disconnected<br />    -- [dongle0] Trying to connect on /dev/ttyUSB2...<br />    -- [dongle0] Dongle has connected, initializing...<br />    -- [dongle0] Dongle initialized and ready</p>
<p>&nbsp;</p>
<p><span style="background-color: #ff0000;">dongle show devices</span><br /><br />*CLI&gt; dongle show devices<br />ID           Group State      RSSI Mode Submode Provider Name  Model      Firmware          IMEI             IMSI             Number        <br />dongle0      0     Free       31   3    2       <span style="color: #888888;">SmarToneVodafo</span> E1750      11.126.13.00.157  354818044123401  460020108953736  Unknown     </p>
<p>&nbsp;</p>
<p>*CLI&gt; <span style="background-color: #ff0000;">dongle sms dongle0 《电话号码》 test</span><br />[dongle0] SMS queued for send with id 0x2881970<br />*CLI&gt;     -- [dongle0] Successfully sent SMS message 0x2881970<br />[Jan 13 23:48:36] NOTICE[3602]: at_response.c:257 at_response_ok: [dongle0] Successfully sent SMS message 0x2881970</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="background-color: #ff0000;">dongle show device settings dongle0</span><br />------------- Settings ------------<br />  Device                  : dongle0<br />  Audio                   : /dev/ttyUSB1<br />  Data                    : /dev/ttyUSB2<br />  IMEI                    : 123456789012345<br />  IMSI                    : 123456789012345<br />  Channel Language        : en<br />  Context                 : default<br />  Exten                   : +1234567890<br />  Group                   : 0<br />  RX gain                 : 0<br />  TX gain                 : 0<br />  U2Diag                  : -1<br />  Use CallingPres         : Yes<br />  Default CallingPres     : Presentation Allowed, Passed Screen<br />  Auto delete SMS         : Yes<br />  Disable SMS             : No<br />  Reset Dongle            : Yes<br />  SMS PDU                 : Yes<br />  Call Waiting            : auto<br />  DTMF                    : relax<br />  Minimal DTMF Gap        : 45<br />  Minimal DTMF Duration   : 80<br />  Minimal DTMF Interval   : 200<br />  Initial device state    : start</p>
<p>&nbsp;</p>
<p><span style="background-color: #ff0000;">自动接听电话</span></p>
<p>*CLI&gt; == Starting Dongle/dongle0-0100000000 at default,+1234567890,1 failed so falling back to exten 's'<br />    -- Executing [s@default:1] Wait("Dongle/dongle0-0100000000", "1") in new stack<br />    -- Executing [s@default:2] Answer("Dongle/dongle0-0100000000", "") in new stack<br />    -- Executing [s@default:3] Set("Dongle/dongle0-0100000000", "TIMEOUT(digit)=5") in new stack<br />    -- Digit timeout set to 5.000<br />    -- Executing [s@default:4] Set("Dongle/dongle0-0100000000", "TIMEOUT(response)=10") in new stack<br />    -- Response timeout set to 10.000<br />    -- Executing [s@default:5] BackGround("Dongle/dongle0-0100000000", "demo-congrats") in new stack<br />    -- &lt;Dongle/dongle0-0100000000&gt; Playing 'demo-congrats.gsm' (language 'en')<br />  == Spawn extension (default, s, 5) exited non-zero on 'Dongle/dongle0-0100000000'</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="background-color: #ff0000;">dongle show device state dongle0</span><br />-------------- Status -------------<br />  Device                  : dongle0<br />  State                   : Free<br />  Audio                   : /dev/ttyUSB1<br />  Data                    : /dev/ttyUSB2<br />  Voice                   : Yes<br />  SMS                     : Yes<br />  Manufacturer            : huawei<br />  Model                   : E1750<br />  Firmware                : 11.126.13.00.157<br />  IMEI                    : 354818044123401<br />  IMSI                    : 460020108953736<br />  GSM Registration Status : Registered, roaming<br />  RSSI                    : 14, -85 dBm<br />  Mode                    : WCDMA<br />  Submode                 : WCDMA<br />  Provider Name           : SmarToneVodafone<br />  Location area code      : 1F4A<br />  Cell ID                 : 657CCC<br />  Subscriber Number       : Unknown<br />  SMS Service Center      : +8613800755500<br />  Use UCS-2 encoding      : Yes<br />  USSD use 7 bit encoding : Yes<br />  USSD use UCS-2 decoding : No<br />  Tasks in queue          : 0<br />  Commands in queue       : 0<br />  Call Waiting            : Disabled<br />  Current device state    : start<br />  Desired device state    : start<br />  When change state       : now<br />  Calls/Channels          : 0<br />    Active                : 0<br />    Held                  : 0<br />    Dialing               : 0<br />    Alerting              : 0<br />    Incoming              : 0<br />    Waiting               : 0<br />    Releasing             : 0<br />    Initializing          : 0</p>
<p><span style="background-color: #ff0000;">*CLI&gt; dongle cmd dongle0 AT</span><br />[dongle0] 'AT' Command queued for execute<br />*CLI&gt;  [dongle0] Got Response for user's command:'OK'<br />[Jan 13 23:56:02] NOTICE[3602]: at_response.c:1716 at_response: [dongle0] Got Response for user's command:'OK'</p>
<p><span style="background-color: #ff0000;">接受短信测试</span></p>
<p><span style="background-color: #ff0000;">*CLI&gt;  [dongle0] Got SMS from xxxx: 'hello'</span><br />  == Starting Local/sms@default-5cb3;1 at default,sms,1 failed so falling back to exten 's'<br />    -- Executing [s@default:1] Wait("Local/sms@default-5cb3;1", "1") in new stack<br />    -- Executing [s@default:2] Answer("Local/sms@default-5cb3;1", "") in new stack<br />    -- Executing [s@default:3] Set("Local/sms@default-5cb3;1", "TIMEOUT(digit)=5") in new stack<br />    -- Digit timeout set to 5.000<br />    -- Executing [s@default:4] Set("Local/sms@default-5cb3;1", "TIMEOUT(response)=10") in new stack<br />    -- Response timeout set to 10.000<br />    -- Executing [s@default:5] BackGround("Local/sms@default-5cb3;1", "demo-congrats") in new stack<br />[Jan 13 23:57:08] WARNING[3639]: channel.c:3895 set_format: Unable to find a codec translation path from 0x1 (g723) to 0x2 (gsm)<br />[Jan 13 23:57:08] WARNING[3639]: file.c:953 ast_streamfile: Unable to open demo-congrats (format 0x1 (g723)): No such file or directory<br />[Jan 13 23:57:08] WARNING[3639]: pbx.c:8866 pbx_builtin_background: ast_streamfile failed on Local/sms@default-5cb3;1 for demo-congrats<br />    -- Executing [s@default:6] BackGround("Local/sms@default-5cb3;1", "demo-instruct") in new stack<br />[Jan 13 23:57:08] WARNING[3639]: channel.c:3895 set_format: Unable to find a codec translation path from 0x1 (g723) to 0x2 (gsm)<br />[Jan 13 23:57:08] WARNING[3639]: file.c:953 ast_streamfile: Unable to open demo-instruct (format 0x1 (g723)): No such file or directory<br />[Jan 13 23:57:08] WARNING[3639]: pbx.c:8866 pbx_builtin_background: ast_streamfile failed on Local/sms@default-5cb3;1 for demo-instruct<br />    -- Executing [s@default:7] WaitExten("Local/sms@default-5cb3;1", "") in new stack<br />    -- Timeout on Local/sms@default-5cb3;1, going to 't'<br />    -- Executing [t@default:1] Goto("Local/sms@default-5cb3;1", "#,1") in new stack<br />    -- Goto (default,#,1)<br />    -- Executing [#@default:1] Playback("Local/sms@default-5cb3;1", "demo-thanks") in new stack<br />[Jan 13 23:57:18] WARNING[3639]: channel.c:3895 set_format: Unable to find a codec translation path from 0x1 (g723) to 0x2 (gsm)<br />[Jan 13 23:57:18] WARNING[3639]: file.c:953 ast_streamfile: Unable to open demo-thanks (format 0x1 (g723)): No such file or directory<br />[Jan 13 23:57:18] WARNING[3639]: app_playback.c:471 playback_exec: ast_streamfile failed on Local/sms@default-5cb3;1 for demo-thanks<br />    -- Executing [#@default:2] Hangup("Local/sms@default-5cb3;1", "") in new stack<br />  == Spawn extension (default, #, 2) exited non-zero on 'Local/sms@default-5cb3;1'</p>
<p>*CLI&gt; </p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>http show status<br />HTTP Server Status:<br />Prefix: /asterisk<br />Server Enabled and Bound to 127.0.0.1:8088<br /><br />Enabled URI's:<br />/asterisk/httpstatus =&gt; Asterisk HTTP General Status<br />/asterisk/phoneprov/... =&gt; Asterisk HTTP Phone Provisioning Tool<br />/asterisk/manager =&gt; HTML Manager Event Interface<br />/asterisk/rawman =&gt; Raw HTTP Manager Event Interface<br />/asterisk/static/... =&gt; Asterisk HTTP Static Delivery<br />/asterisk/mxml =&gt; XML Manager Event Interface<br /><br /><br />http://127.0.0.1:8088/asterisk/manager?action=listcommands&amp;action=&amp;command=&amp;username=admin&amp;secret=hjs<br /><br /><br />Manager Tester<br />Action: or<br />CLI Command<br />user pass<br />Response&nbsp;&nbsp; &nbsp;Success<br />WaitEvent&nbsp;&nbsp; &nbsp;Wait for an event to occur (Priv: &lt;none&gt;)<br />DongleReload&nbsp;&nbsp; &nbsp;Reload a module configuration. (Priv: system,config,all)<br />DongleRemove&nbsp;&nbsp; &nbsp;Remove a dongle. (Priv: system,config,all)<br />DongleStart&nbsp;&nbsp; &nbsp;Start a dongle. (Priv: system,config,all)<br />DongleStop&nbsp;&nbsp; &nbsp;Stop a dongle. (Priv: system,config,all)<br />DongleRestart&nbsp;&nbsp; &nbsp;Restart a dongle. (Priv: system,config,all)<br />DongleReset&nbsp;&nbsp; &nbsp;Reset a dongle. (Priv: system,config,all)<br />DongleSetCCWA&nbsp;&nbsp; &nbsp;Enable/Disabled Call-Waiting on a dongle. (Priv: config,all)<br />DongleSendPDU&nbsp;&nbsp; &nbsp;Send a PDU of message. (Priv: call,all)<br />DongleSendSMS&nbsp;&nbsp; &nbsp;Send a SMS message. (Priv: call,all)<br />DongleSendUSSD&nbsp;&nbsp; &nbsp;Send a ussd command to the dongle. (Priv: call,all)<br />DongleShowDevices&nbsp;&nbsp; &nbsp;List Dongle devices (Priv: system,reporting,all)<br />PlayDTMF&nbsp;&nbsp; &nbsp;Play DTMF signal on a specific channel. (Priv: call,all)<br />SIPnotify&nbsp;&nbsp; &nbsp;Send a SIP notify (Priv: system,all)<br />SIPshowregistry&nbsp;&nbsp; &nbsp;Show SIP registrations (text format) (Priv: system,reporting,all)<br />SIPqualifypeer&nbsp;&nbsp; &nbsp;Show SIP peer (text format) (Priv: system,reporting,all)<br />SIPshowpeer&nbsp;&nbsp; &nbsp;Show SIP peer (text format) (Priv: system,reporting,all)<br />SIPpeers&nbsp;&nbsp; &nbsp;List SIP peers (text format) (Priv: system,reporting,all)<br />QueueReset&nbsp;&nbsp; &nbsp;Reset queue statistics (Priv: &lt;none&gt;)<br />QueueReload&nbsp;&nbsp; &nbsp;Reload a queue, queues, or any sub-section of a queue or queues (Priv: &lt;none&gt;)<br />QueueRule&nbsp;&nbsp; &nbsp;Queue Rules (Priv: &lt;none&gt;)<br />QueuePenalty&nbsp;&nbsp; &nbsp;Set the penalty for a queue member (Priv: agent,all)<br />QueueLog&nbsp;&nbsp; &nbsp;Adds custom entry in queue_log (Priv: agent,all)<br />QueuePause&nbsp;&nbsp; &nbsp;Makes a queue member temporarily unavailable (Priv: agent,all)<br />QueueRemove&nbsp;&nbsp; &nbsp;Remove interface from queue. (Priv: agent,all)<br />QueueAdd&nbsp;&nbsp; &nbsp;Add interface to queue. (Priv: agent,all)<br />QueueSummary&nbsp;&nbsp; &nbsp;Queue Summary (Priv: &lt;none&gt;)<br />QueueStatus&nbsp;&nbsp; &nbsp;Queue Status (Priv: &lt;none&gt;)<br />Queues&nbsp;&nbsp; &nbsp;Queues (Priv: &lt;none&gt;)<br />IAXregistry&nbsp;&nbsp; &nbsp;Show IAX registrations (Priv: system,reporting,all)<br />IAXnetstats&nbsp;&nbsp; &nbsp;Show IAX Netstats (Priv: system,reporting,all)<br />IAXpeerlist&nbsp;&nbsp; &nbsp;List IAX Peers (Priv: system,reporting,all)<br />IAXpeers&nbsp;&nbsp; &nbsp;List IAX Peers (Priv: system,reporting,all)<br />SKINNYshowline&nbsp;&nbsp; &nbsp;Show SKINNY line (text format) (Priv: system,reporting,all)<br />SKINNYlines&nbsp;&nbsp; &nbsp;List SKINNY lines (text format) (Priv: system,reporting,all)<br />SKINNYshowdevice&nbsp;&nbsp; &nbsp;Show SKINNY device (text format) (Priv: system,reporting,all)<br />SKINNYdevices&nbsp;&nbsp; &nbsp;List SKINNY devices (text format) (Priv: system,reporting,all)<br />AgentLogoff&nbsp;&nbsp; &nbsp;Sets an agent as no longer logged in (Priv: agent,all)<br />Agents&nbsp;&nbsp; &nbsp;Lists agents and their status (Priv: agent,all)<br />VoicemailUsersList&nbsp;&nbsp; &nbsp;List All Voicemail User Information (Priv: call,reporting,all)<br />UnpauseMonitor&nbsp;&nbsp; &nbsp;Unpause monitoring of a channel (Priv: call,all)<br />PauseMonitor&nbsp;&nbsp; &nbsp;Pause monitoring of a channel (Priv: call,all)<br />ChangeMonitor&nbsp;&nbsp; &nbsp;Change monitoring filename of a channel (Priv: call,all)<br />StopMonitor&nbsp;&nbsp; &nbsp;Stop monitoring a channel (Priv: call,all)<br />Monitor&nbsp;&nbsp; &nbsp;Monitor a channel (Priv: call,all)<br />DBDelTree&nbsp;&nbsp; &nbsp;Delete DB Tree (Priv: system,all)<br />DBDel&nbsp;&nbsp; &nbsp;Delete DB Entry (Priv: system,all)<br />DBPut&nbsp;&nbsp; &nbsp;Put DB Entry (Priv: system,all)<br />DBGet&nbsp;&nbsp; &nbsp;Get DB Entry (Priv: system,reporting,all)<br />Bridge&nbsp;&nbsp; &nbsp;Bridge two channels already in the PBX (Priv: call,all)<br />Park&nbsp;&nbsp; &nbsp;Park a channel (Priv: call,all)<br />ParkedCalls&nbsp;&nbsp; &nbsp;List parked calls (Priv: &lt;none&gt;)<br />ShowDialPlan&nbsp;&nbsp; &nbsp;List dialplan (Priv: config,reporting,all)<br />ModuleCheck&nbsp;&nbsp; &nbsp;Check if module is loaded (Priv: system,all)<br />ModuleLoad&nbsp;&nbsp; &nbsp;Module management (Priv: system,all)<br />CoreShowChannels&nbsp;&nbsp; &nbsp;List currently active channels (Priv: system,reporting,all)<br />Reload&nbsp;&nbsp; &nbsp;Send a reload event (Priv: system,config,all)<br />CoreStatus&nbsp;&nbsp; &nbsp;Show PBX core status variables (Priv: system,reporting,all)<br />CoreSettings&nbsp;&nbsp; &nbsp;Show PBX core settings (version etc) (Priv: system,reporting,all)<br />UpdateConfig&nbsp;&nbsp; &nbsp;Update basic configuration (Priv: config,all)<br />SendText&nbsp;&nbsp; &nbsp;Send text message to channel (Priv: call,all)<br />ListCommands&nbsp;&nbsp; &nbsp;List available manager commands (Priv: &lt;none&gt;)<br />MailboxCount&nbsp;&nbsp; &nbsp;Check Mailbox Message Count (Priv: call,reporting,all)<br />MailboxStatus&nbsp;&nbsp; &nbsp;Check Mailbox (Priv: call,reporting,all)<br />AbsoluteTimeout&nbsp;&nbsp; &nbsp;Set Absolute Timeout (Priv: system,call,all)<br />ExtensionState&nbsp;&nbsp; &nbsp;Check Extension Status (Priv: call,reporting,all)<br />Command&nbsp;&nbsp; &nbsp;Execute Asterisk CLI Command (Priv: command,all)<br />Originate&nbsp;&nbsp; &nbsp;Originate Call (Priv: originate,all)<br />Atxfer&nbsp;&nbsp; &nbsp;Attended transfer (Priv: call,all)<br />Redirect&nbsp;&nbsp; &nbsp;Redirect (transfer) a call (Priv: call,all)<br />ListCategories&nbsp;&nbsp; &nbsp;List categories in configuration file (Priv: config,all)<br />CreateConfig&nbsp;&nbsp; &nbsp;Creates an empty file in the configuration directory (Priv: config,all)<br />Status&nbsp;&nbsp; &nbsp;Lists channel status (Priv: system,call,reporting,all)<br />GetConfigJSON&nbsp;&nbsp; &nbsp;Retrieve configuration (JSON format) (Priv: system,config,all)<br />GetConfig&nbsp;&nbsp; &nbsp;Retrieve configuration (Priv: system,config,all)<br />Getvar&nbsp;&nbsp; &nbsp;Gets a Channel Variable (Priv: call,reporting,all)<br />Setvar&nbsp;&nbsp; &nbsp;Set Channel Variable (Priv: call,all)<br />Ping&nbsp;&nbsp; &nbsp;Keepalive command (Priv: &lt;none&gt;)<br />Hangup&nbsp;&nbsp; &nbsp;Hangup Channel (Priv: system,call,all)<br />Challenge&nbsp;&nbsp; &nbsp;Generate Challenge for MD5 Auth (Priv: &lt;none&gt;)<br />Login&nbsp;&nbsp; &nbsp;Login Manager (Priv: &lt;none&gt;)<br />Logoff&nbsp;&nbsp; &nbsp;Logoff Manager (Priv: &lt;none&gt;)<br />Events&nbsp;&nbsp; &nbsp;Control Event Flow (Priv: &lt;none&gt;)<br /><br /><br /></p>