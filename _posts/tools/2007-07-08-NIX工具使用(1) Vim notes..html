<div class=tit>Vim notes</div>
<div class=date>2006-12-01 23:10</div>
<table style="TABLE-LAYOUT: fixed">
    <tbody>
        <tr>
            <td>
            <div class=cnt>///很简单的一些基本功能<br><br>滚屏<br>CTRL-U&nbsp;&nbsp;&nbsp; 使文本向下滚动半屏。<br>CTRL-D&nbsp; 使文本向下滚动半屏。<br><br>CTRL-F&nbsp;&nbsp;&nbsp; 使文本向前滚动一整屏。（实际上是整屏去两行）<br>CTRL-B&nbsp;&nbsp;&nbsp; 使文本向后滚动一整屏。<br><br>CTRL-E&nbsp; 使文本向上滚动一行。<br>CTRL-F&nbsp;&nbsp;&nbsp; 使文本向下滚动一行。(如果在使用windows兼容的映射键，它可能被映射为重做而<br>&nbsp;&nbsp;&nbsp; 不是向下滚屏)<br><br>zz&nbsp;&nbsp;&nbsp; 会把当前行置为屏幕正中央<br>zt&nbsp;&nbsp;&nbsp; 会把当前行置为屏幕顶端。<br>zb&nbsp;&nbsp;&nbsp; 会把当前行置为屏幕底端。<br><br>z字取其象形意义模拟一张纸的折叠及变形位置重置,广泛用作折叠类命令的前辍<br><br>~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br>p&nbsp;&nbsp;&nbsp; 将最后一次删除(包括dd和x删除的）的内容置入光标之后&nbsp; (cut-&gt;paste)<br><br>r&nbsp;&nbsp;&nbsp; 和一个字符替换光标所在位置的字符。<br>R&nbsp;&nbsp;&nbsp; 连续替换多个字符，直到按ESC回到普通模式<br><br>cw&nbsp;&nbsp;&nbsp; 改变一个单字/单词的部分或者全部<br><br>&nbsp; &nbsp;&nbsp;&nbsp; 使用c指令的其他更改类命令:<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 操作格式是∶&nbsp;&nbsp;&nbsp; [number]&nbsp;&nbsp; c&nbsp;&nbsp; object&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 或者&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; c&nbsp;&nbsp;&nbsp; [number]&nbsp;&nbsp; object<br>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; object: w 代表单字/单词，$代表行末等等。<br>~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br>Ctrl-g &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 显示当前光标所在位置和文件状态信息<br>Shift-G&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 将光标跳转至文件最后一行<br>行号 + Shift-G&nbsp; 将光标移动至该行号代表的行。<br><br>CTRL-G&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 显示文件名、当前行号、总的行数、当前行所在文件中的百分比、当前列.<br><br>~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br>查找：<br>&nbsp;&nbsp;&nbsp; /xxx(?xxx)&nbsp;&nbsp;&nbsp; 向后查找xxx（向前）；<br>&nbsp;&nbsp;&nbsp; n&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 在同一方向上重复上一次，其前可以带一个数字<br>&nbsp;&nbsp;&nbsp; N&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 反方向重复上一次<br><br>&nbsp;&nbsp;&nbsp; %&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 查找配对的括号 )、]、}<br><br>注：&nbsp;&nbsp;&nbsp; 1、字符.*[]^%/?~$有特殊意义，如果要找的东西包括这些内容，要在该字符前加\<br><br>&nbsp;&nbsp;&nbsp; 4、输入/后(或者输入/和要查找字符串的首字符后)，按上下箭头键可以在查找历史<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; 中查找过的搜索。<br><br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; 注： 以":"开始的命令也有一个历史记录. 它让你找到用过的冒号命令重复执行<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 它. 这两个命令历史记录是相互独立的.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 5、如果要查的词word是一个不容易输入且易出错的词，一个便捷的方法是把光标定<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; 位于这个word上, 然后按下"*"键。Vim将会取当前光标所在的word并将它作用目<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; 标字符串进行搜索。"#"命令是"*"的反向版. 还可以在这两个命令前加一个命令<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; 计数。<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 6、查找以word作为词的末尾时使用&#8220;/word\&gt;&#8221;。"\"是一个特殊的记法, 它只匹配<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; 一个word的结束处.近似地,"\"匹配到一个word的开始处。所以如果查找作为一<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; 个独立的单词的word，可以用"/\&lt;word\&gt;",这样就不会匹配"there"和"soothe"。<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 7、关于搜索结果的高亮显示等，参见下面的 :set xxx 命令。<br>~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br>替换：<br>&nbsp;&nbsp;&nbsp; :s/old/new&nbsp;&nbsp;&nbsp; 将当前行内 第一个 old 替换为new<br><br>&nbsp;&nbsp;&nbsp; :s/old/new/g&nbsp;&nbsp;&nbsp; 将当前行内 所有&nbsp;&nbsp; old 替换为new<br>&nbsp;&nbsp;&nbsp; :s/\&lt;aa\&gt;/bb/g&nbsp; 将光标所在行出现的所有 aa 替换为 bb, 仅替换 aa 这个单词<br><br>&nbsp;&nbsp;&nbsp; :#,#s/old/new/g&nbsp;&nbsp;&nbsp; 将两个号码代表的行号之间的所有 old 替换为 new<br>&nbsp;&nbsp;&nbsp; &nbsp; :12,23s/^/#/&nbsp;&nbsp;&nbsp; 将从12行到23行的行首加入 # 字符<br><br>&nbsp;&nbsp;&nbsp; :%s/old/new/g&nbsp;&nbsp;&nbsp; 将 文件内 所有 old 替换为 new<br>&nbsp;&nbsp;&nbsp; :%s/old/new/gc&nbsp;&nbsp;&nbsp; 将 文件内 所有 old 替换为 new，每个替换时询问<br><br>&nbsp;&nbsp;&nbsp; :%s= *$==&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 将所有行尾多余的空格删除<br>&nbsp;&nbsp;&nbsp; :g/^\s*$/d&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 将所有不包含字符(空格也不包含)的空行删除.<br><br>$ &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 将光标移动到本行的末尾。<br><br>:!command&nbsp;&nbsp;&nbsp; 执行一个外部命令 command<br>~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br>文件读写：<br>&nbsp;&nbsp;&nbsp; :w FILENAME&nbsp;&nbsp;&nbsp; 当前编辑的文件保存到名为 FILENAME 的文件中<br>&nbsp;&nbsp;&nbsp; :#,#w FILENAME&nbsp;&nbsp;&nbsp; 当前编辑的文件的两个行号之间的内容保存到名为 FILENAME 的文件中<br><br>&nbsp;&nbsp;&nbsp; :r FILENAME&nbsp;&nbsp;&nbsp; 提取磁盘文件 FILENAME 并将其插入到当前文件的光标位置后面<br><br>:set xxx&nbsp;&nbsp;&nbsp; 设置 xxx 选项，如 <br><br>&nbsp;&nbsp;&nbsp; :set ic&nbsp;&nbsp; (ignore case)忽略大小写<br>&nbsp;&nbsp;&nbsp; :set ignorecase&nbsp;&nbsp;&nbsp; 忽略大小写<br>&nbsp;&nbsp;&nbsp; :set noignorecase<br><br>&nbsp;&nbsp;&nbsp; :set hls&nbsp;&nbsp;&nbsp; (highlight search)高亮显示搜索结果<br>&nbsp;&nbsp;&nbsp; :set hlsearch&nbsp;&nbsp; 同上<br>&nbsp;&nbsp;&nbsp; :set nohlsearch 关闭高亮搜索<br><br>&nbsp;&nbsp;&nbsp; : nohlsearch&nbsp;&nbsp;&nbsp; 只去掉当前的高亮显示,它只是暂时关闭了该语法项高亮显示，<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 一旦你再次执行搜索指令，被匹配到的目标就又会以高亮形式显<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 示了<br><br>&nbsp;&nbsp;&nbsp; :set is &nbsp;&nbsp;&nbsp; (incsearch)在键入目标字符串的过程中Vim就同时开始了搜索工作<br>&nbsp;&nbsp;&nbsp; :set incsearch&nbsp;&nbsp;&nbsp; 同上<br><br>&nbsp;&nbsp;&nbsp; :set nowrapscan&nbsp;&nbsp;&nbsp; 使搜索过程在文件结束时就停止。反向时到达文件开始时停止。<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; wrapscan选项的默认值是开。<br><br>&nbsp;&nbsp;&nbsp; &nbsp; 和查找&#8220;/&#8221;命令配合，可以使所有要查的内容以高亮显示<br><br>&nbsp;&nbsp;&nbsp; :set number&nbsp;&nbsp;&nbsp; 在每行的前面显示一个行号。<br>&nbsp;&nbsp;&nbsp; :set nonumber&nbsp;&nbsp;&nbsp; 关闭该选项<br><br>&nbsp;&nbsp;&nbsp; 注：no放置在boolean选项前面表示关闭该选项，如"number"是一个二值选项<br><br>&nbsp;&nbsp;&nbsp; :set ruler&nbsp;&nbsp;&nbsp; 在Vim窗口的右下角显示当前光标位置<br><br>&nbsp;&nbsp;&nbsp; 网络上有很多文档, 以Vim查看时如果set number, 则每行会超出屏幕少许,从而被折<br>叠放到下一行上, 看起来很不方便, 这时就可以使用:set nonumber ruler, 如果还是坚持<br>想打开number, 可以考虑重新格式化文本, 请参考|gq|<br><br>~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br>在线帮助<br>&nbsp;&nbsp;&nbsp; - 按下 &lt;HELP&gt; 键 (如果键盘上有的话)<br>&nbsp;&nbsp;&nbsp; - 按下 &lt;F1&gt; 键 (如果键盘上有的话)<br>&nbsp;&nbsp;&nbsp; - 输入&nbsp;&nbsp;&nbsp; :help &lt;回车&gt;<br>&nbsp;&nbsp;&nbsp; &nbsp; 提供一个正确的参数给":help"命令，您可以找到关于该主题的帮助，如:help w<br><br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 第八讲∶创建一个启动脚本<br><br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; ** 启用vim的功能 **<br><br>Vim的功能特性要比vi多得多，但大部分功能都没有缺省激活。为了启动更多的<br>功能，您得创建一个vimrc文件。<br><br>&nbsp; 1. 开始编辑vimrc文件，这取决于您所使用的操作系统∶<br><br>&nbsp;&nbsp;&nbsp;&nbsp; :edit ~/.vimrc&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 这是Unix系统所使用的命令<br>&nbsp;&nbsp;&nbsp;&nbsp; :edit $VIM/_vimrc&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 这是Windows系统所使用的命令<br><br>&nbsp; 2. 接着导入vimrc范例文件∶<br><br>&nbsp;&nbsp;&nbsp;&nbsp; :read $VIMRUNTIME/vimrc_example.vim<br><br>&nbsp; 3. 保存文件，命令为∶<br><br>&nbsp;&nbsp;&nbsp;&nbsp; :w<br><br>&nbsp; 在下次您启动vim的时候，编辑器就会有了语法高亮的功能。您可以继续把您喜<br>&nbsp; 欢的其它功能设置添加到这个vimrc文件中。<br><br>~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br>移动命令：规律:一个命令的大写字母形式会做同样的事情,但是方向相反<br><br>$&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 命令将光标移动到当前行行尾. <br>$#&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 接受一个计数,表示移动到后面第n行行尾<br><br>^&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 命令将光标移动到当前行的第一个非空白字符上<br>0&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 总是把光标移动到当前行的第一个字符上<br><br>一个最有用的移动命令是单字符搜索命令：<br>;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 重复. <br>,&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 也是重复同样的命令, 但是方向与原命令的方向相反<br><br>总结移动命令：<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 无论如何, 这4个命令都不会使光标跑到其它行上去. 即使当前的句子还没有结束<br><br>~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br><br>fx&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 在当前行上查找下一个字符x(光标停留在被搜索字符上). "f"意为"find"<br>Fx&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 在当前行上查找上一个字符x(光标停留在被搜索字符上)<br>nf(F)x&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 移动到下(上)第n个x字符的位置<br><br>tx&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 同fx命令, 光标停留在被搜索字符之前的一个字符上. "t"意为"To"<br>Tx&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 同Fx命令, 光标停留在被搜索字符之前的一个字符上<br><br>注：&nbsp;&nbsp;&nbsp; x也可以是一个汉字<br>&nbsp;&nbsp;&nbsp; 重复命令 ( ; 和 , )也可以用于此处<br><br>~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br><br>移动到指定行<br><br>G&nbsp;&nbsp;&nbsp; 把光标定位到最后一行上<br>#G&nbsp;&nbsp;&nbsp; 把光标定位到由#指定的行上.<br>&nbsp;&nbsp;&nbsp; （对编译时转到出错的地方去很有用。还有更好的方法遍历错误信息列表，可参考:make命令的相关信息）<br><br>gg&nbsp;&nbsp;&nbsp; 跳转到第一行的快捷的方法。1G效果也是一样,但是敲起来就没那么顺手了<br><br>50%&nbsp;&nbsp;&nbsp; 把光标定位在文件的中间,...<br>&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp; <br>如果只是想移动到目前显示在屏幕上的那些行，则下图展示了达到这一目标的几个命令:<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; +---------------------------+<br>&nbsp;&nbsp;&nbsp; H --&gt; &nbsp;&nbsp;&nbsp; | text sample text &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; | sample text &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; | text sample text &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; | sample text &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp; M --&gt; &nbsp;&nbsp;&nbsp; | text sample text &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; | sample text &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; | text sample text &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; | sample text &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp; L --&gt; &nbsp;&nbsp;&nbsp; | text sample text &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; +---------------------------+<br>&nbsp;&nbsp;&nbsp; "H"意为Home, "M"为Middle, "L"为Last.<br></div>
            </td>
        </tr>
    </tbody>
</table>
