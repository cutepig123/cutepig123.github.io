<p>Init:</p><p>&nbsp;</p><div>&nbsp;m_rectTracker.m_rect.SetRect(0,0,100,100); <br />&nbsp;&nbsp;&nbsp;&nbsp; m_rectTracker.m_nStyle=CRectTracker::resizeInside|CRectTracker::dottedLine;</div><p>&nbsp;</p><p>&nbsp;</p><p>onDraw:</p><p>&nbsp;</p><div>m_rectTracker.GetTrueRect(&amp;rect);<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;//if(bDraw)<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;dc.Ellipse (rect);//画椭圆； <br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;//Draw tracking rectangle. <br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;m_rectTracker.Draw(&amp;dc);//这句画才真正的将这个四边形画出来；</div>&nbsp;<div></div><div>void CRectTrackDlg::OnLButtonDown(UINT nFlags, CPoint point)<br />{<br />&nbsp;&nbsp; &nbsp;// TODO: Add your message handler code here and/or call default<br />&nbsp;&nbsp; &nbsp;int nIn; //定义一个鼠标的点击值；<br />&nbsp;&nbsp; &nbsp;nIn=m<span style="color: red;">_rectTracker.HitTest(point</span>); //看看点到了哪了<br />&nbsp;&nbsp; &nbsp;if(nIn&lt;0)&nbsp; //不在四边形区域内；<br />&nbsp;&nbsp; &nbsp;{<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;CRectTracker&nbsp; temp;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;temp.TrackRubberBand(this,point,TRUE);<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;temp.m_rect.NormalizeRect();<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;CRectTracker interRect; <br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;//在建立一个CRectTracker;用于记录鼠标与椭圆的交集。<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;if(interRect.m_rect.IntersectRect(temp.m_rect,m_rectTracker.m_rect))<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;bDraw=TRUE; //如果有交集，则画四边形的边界，说明选择了椭圆<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;else&nbsp;&nbsp; bDraw=FALSE;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Invalidate(); //引起OnDraw函数的发生；<br />&nbsp;&nbsp; &nbsp;}<br />&nbsp;&nbsp; &nbsp;else <br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;//在四边形区域内：<br />&nbsp;&nbsp; &nbsp;{<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;CClientDC dc(this);<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;m<span style="color: red;">_rectTracker.Draw(&amp;dc);</span><br /><span style="color: red;">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;m_rectTracker.Track(this,point,TRUE);</span><br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;// Track()是CRectTracker中最富魅力的函数。它时时的改变调用者的m_rect;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;bDraw=TRUE;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Invalidate();<br />&nbsp;&nbsp; &nbsp;}<br /><br />&nbsp;&nbsp; &nbsp;CDialog::OnLButtonDown(nFlags, point);<br />}<br /><br /><br />BOOL CRectTrackDlg::OnSetCursor(CWnd* pWnd, UINT nHitTest, UINT message)<br />{<br />&nbsp;&nbsp; &nbsp;// TODO: Add your message handler code here and/or call default<br />&nbsp;&nbsp; &nbsp;if (pWnd == this &amp;&amp; <span style="color: red;">m_rectTracker.SetCursor(this, nHitT</span>est)) <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return TRUE; <br />&nbsp;&nbsp; &nbsp;return CDialog::OnSetCursor(pWnd, nHitTest, message);<br />}</div><p>&nbsp;</p><p><div>  <p style="margin-left: 0.5in; text-indent: -0.25in;"><span style="font-size: 10pt; color: silver;"><span>-<span style="font-family: &quot;Times New Roman&quot;; font-style: normal; font-variant: normal; font-weight: normal; font-size: 7pt; line-height: normal; font-size-adjust: none; font-stretch: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><strong><span style="font-size: 10pt; font-family: Verdana; color: black;">Form editor<br /><div><p><img alt="Sample Image - SharpFormEditorDemo.jpg" src="http://www.codeproject.com/KB/cs/SharpFormEditorDemo/SharpFormEditorDemo.jpg" height="461" width="577" /></p></div><br /></span></strong></p>  <p style="margin-left: 0.5in; text-indent: -0.25in;"><span style="font-size: 10pt; color: silver;"><span>-<span style="font-family: &quot;Times New Roman&quot;; font-style: normal; font-variant: normal; font-weight: normal; font-size: 7pt; line-height: normal; font-size-adjust: none; font-stretch: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><strong><span style="font-size: 10pt; font-family: Verdana; color: black;"><a href="http://www.codeproject.com/KB/cs/SharpFormEditorDemo.aspx">http://www.codeproject.com/KB/cs/SharpFormEditorDemo.aspx</a></span></strong></p>  <p style="margin-left: 0.5in; text-indent: -0.25in;"><span style="font-size: 10pt; color: silver;"><span>-<span style="font-family: &quot;Times New Roman&quot;; font-style: normal; font-variant: normal; font-weight: normal; font-size: 7pt; line-height: normal; font-size-adjust: none; font-stretch: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><strong><span style="font-size: 10pt; font-family: Verdana; color: black;"><a href="http://www.codeproject.com/KB/atl/FormDesigner.aspx">http://www.codeproject.com/KB/atl/FormDesigner.aspx</a></span></strong></p>  <p style="margin-left: 0.5in; text-indent: -0.25in;"><span style="font-size: 10pt; color: silver;"><span>-<span style="font-family: &quot;Times New Roman&quot;; font-style: normal; font-variant: normal; font-weight: normal; font-size: 7pt; line-height: normal; font-size-adjust: none; font-stretch: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><strong><span style="font-size: 10pt; font-family: Verdana; color: black;"><a href="http://www.codeproject.com/KB/miscctrl/diagrameditor.aspx">http://www.codeproject.com/KB/miscctrl/diagrameditor.aspx</a></span></strong></p>  <p style="margin-left: 0.5in; text-indent: -0.25in;"><span style="font-size: 10pt; color: silver;"><span>-<span style="font-family: &quot;Times New Roman&quot;; font-style: normal; font-variant: normal; font-weight: normal; font-size: 7pt; line-height: normal; font-size-adjust: none; font-stretch: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><strong><span style="font-size: 10pt; font-family: Verdana; color: black;"><a href="http://www.icsharpcode.net/OpenSource/SD/">http://www.icsharpcode.net/OpenSource/SD/</a></span></strong></p>  </div>&nbsp;</p><p>&nbsp;</p>